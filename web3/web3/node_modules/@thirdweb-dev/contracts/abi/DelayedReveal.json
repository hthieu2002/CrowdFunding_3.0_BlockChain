{"abi":[{"type":"function","name":"encryptDecrypt","inputs":[{"name":"data","type":"bytes","internalType":"bytes"},{"name":"key","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"result","type":"bytes","internalType":"bytes"}],"stateMutability":"pure"},{"type":"function","name":"encryptedData","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"view"},{"type":"function","name":"getRevealURI","inputs":[{"name":"_batchId","type":"uint256","internalType":"uint256"},{"name":"_key","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"revealedURI","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"isEncryptedBatch","inputs":[{"name":"_batchId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"reveal","inputs":[{"name":"identifier","type":"uint256","internalType":"uint256"},{"name":"key","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"revealedURI","type":"string","internalType":"string"}],"stateMutability":"nonpayable"},{"type":"event","name":"TokenURIRevealed","inputs":[{"name":"index","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"revealedURI","type":"string","indexed":false,"internalType":"string"}],"anonymous":false}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"encryptDecrypt(bytes,bytes)":"e7150322","encryptedData(uint256)":"a05112fc","getRevealURI(uint256,bytes)":"9fc4d68f","isEncryptedBatch(uint256)":"492e224b","reveal(uint256,bytes)":"ce805642"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"revealedURI\",\"type\":\"string\"}],\"name\":\"TokenURIRevealed\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"key\",\"type\":\"bytes\"}],\"name\":\"encryptDecrypt\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"result\",\"type\":\"bytes\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"encryptedData\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_batchId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"_key\",\"type\":\"bytes\"}],\"name\":\"getRevealURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"revealedURI\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_batchId\",\"type\":\"uint256\"}],\"name\":\"isEncryptedBatch\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"identifier\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"key\",\"type\":\"bytes\"}],\"name\":\"reveal\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"revealedURI\",\"type\":\"string\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"TokenURIRevealed(uint256,string)\":{\"details\":\"Emitted when tokens are revealed.\"}},\"kind\":\"dev\",\"methods\":{\"encryptDecrypt(bytes,bytes)\":{\"details\":\"Encrypt/decrypt given `data` with `key`. Uses inline assembly.                  See: https://ethereum.stackexchange.com/questions/69825/decrypt-message-on-chain\",\"params\":{\"data\":\"Bytes of data to encrypt/decrypt.\",\"key\":\"Secure key used by caller for encryption/decryption.\"},\"returns\":{\"result\":\" Output after encryption/decryption of given data.\"}},\"getRevealURI(uint256,bytes)\":{\"details\":\"Reveal encrypted base URI for `_batchId` with caller/admin's `_key` used for encryption.                      Reverts if there's no encrypted URI for `_batchId`.                      See {encryptDecrypt}.\",\"params\":{\"_batchId\":\"ID of the batch for which URI is being revealed.\",\"_key\":\"Secure key used by caller/admin for encryption of baseURI.\"},\"returns\":{\"revealedURI\":\"Decrypted base URI.\"}},\"isEncryptedBatch(uint256)\":{\"details\":\"Returns `true` if `_batchId`'s base URI is encrypted.\",\"params\":{\"_batchId\":\"ID of a batch of NFTs.\"}},\"reveal(uint256,bytes)\":{\"params\":{\"identifier\":\"The ID for the batch of delayed-reveal NFTs to reveal.\",\"key\":\"The key with which the base URI for the relevant batch of NFTs was encrypted.\"}}},\"stateVariables\":{\"encryptedData\":{\"details\":\"Mapping from tokenId of a batch of tokens => to delayed reveal data.\"}},\"title\":\"Delayed Reveal\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"encryptDecrypt(bytes,bytes)\":{\"notice\":\"Encrypt/decrypt data on chain.\"},\"getRevealURI(uint256,bytes)\":{\"notice\":\"Returns revealed URI for a batch of NFTs.\"},\"isEncryptedBatch(uint256)\":{\"notice\":\"Returns whether the relvant batch of NFTs is subject to a delayed reveal.\"},\"reveal(uint256,bytes)\":{\"notice\":\"Reveals a batch of delayed reveal NFTs.\"}},\"notice\":\"Thirdweb's `DelayedReveal` is a contract extension for base NFT contracts. It lets you create batches of           'delayed-reveal' NFTs. You can learn more about the usage of delayed reveal NFTs here - https://blog.thirdweb.com/delayed-reveal-nfts\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/extension/DelayedReveal.sol\":\"DelayedReveal\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":20},\"remappings\":[\":@chainlink/=lib/chainlink/\",\":@ds-test/=lib/ds-test/src/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@std/=lib/forge-std/src/\",\":@thirdweb-dev/dynamic-contracts/=lib/dynamic-contracts/\",\":ERC721A-Upgradeable/=lib/ERC721A-Upgradeable/contracts/\",\":ERC721A/=lib/ERC721A/contracts/\",\":chainlink/=lib/chainlink/contracts/\",\":contracts/=contracts/\",\":ds-test/=lib/ds-test/src/\",\":dynamic-contracts/=lib/dynamic-contracts/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":erc721a-upgradeable/=lib/ERC721A-Upgradeable/\",\":erc721a/=lib/ERC721A/\",\":forge-std/=lib/forge-std/src/\",\":lib/sstore2/=lib/dynamic-contracts/lib/sstore2/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":sstore2/=lib/dynamic-contracts/lib/sstore2/contracts/\"]},\"sources\":{\"contracts/extension/DelayedReveal.sol\":{\"keccak256\":\"0x2a860e4b857617a1c87c5fb79df2dd4a70e0e63ec6796f58ce9d0b3b93f1e242\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://cc4039ae41d23b921c13b500018e333d63dd9b3be65e700e0d05465d3ac680a3\",\"dweb:/ipfs/QmSLCVWqjVzDt9ygXmBffERFCYCo7RiGry2BhQjXcnZjQ6\"]},\"contracts/extension/interface/IDelayedReveal.sol\":{\"keccak256\":\"0xbbe98263ebce49f81cb42f8bf1e7e631afd81cda73be79b907e81a2f54fd2123\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://76913c2086e309c97ac0d5be72bbe23e66fe35e231c75318993c14e6aa4c0138\",\"dweb:/ipfs/QmXwr49U275Cam8x9mYcNdcCmZHUYuBge3CtFPkBkEMzL4\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"index","type":"uint256","indexed":true},{"internalType":"string","name":"revealedURI","type":"string","indexed":false}],"type":"event","name":"TokenURIRevealed","anonymous":false},{"inputs":[{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"key","type":"bytes"}],"stateMutability":"pure","type":"function","name":"encryptDecrypt","outputs":[{"internalType":"bytes","name":"result","type":"bytes"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"encryptedData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"uint256","name":"_batchId","type":"uint256"},{"internalType":"bytes","name":"_key","type":"bytes"}],"stateMutability":"view","type":"function","name":"getRevealURI","outputs":[{"internalType":"string","name":"revealedURI","type":"string"}]},{"inputs":[{"internalType":"uint256","name":"_batchId","type":"uint256"}],"stateMutability":"view","type":"function","name":"isEncryptedBatch","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"identifier","type":"uint256"},{"internalType":"bytes","name":"key","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"reveal","outputs":[{"internalType":"string","name":"revealedURI","type":"string"}]}],"devdoc":{"kind":"dev","methods":{"encryptDecrypt(bytes,bytes)":{"details":"Encrypt/decrypt given `data` with `key`. Uses inline assembly.                  See: https://ethereum.stackexchange.com/questions/69825/decrypt-message-on-chain","params":{"data":"Bytes of data to encrypt/decrypt.","key":"Secure key used by caller for encryption/decryption."},"returns":{"result":" Output after encryption/decryption of given data."}},"getRevealURI(uint256,bytes)":{"details":"Reveal encrypted base URI for `_batchId` with caller/admin's `_key` used for encryption.                      Reverts if there's no encrypted URI for `_batchId`.                      See {encryptDecrypt}.","params":{"_batchId":"ID of the batch for which URI is being revealed.","_key":"Secure key used by caller/admin for encryption of baseURI."},"returns":{"revealedURI":"Decrypted base URI."}},"isEncryptedBatch(uint256)":{"details":"Returns `true` if `_batchId`'s base URI is encrypted.","params":{"_batchId":"ID of a batch of NFTs."}},"reveal(uint256,bytes)":{"params":{"identifier":"The ID for the batch of delayed-reveal NFTs to reveal.","key":"The key with which the base URI for the relevant batch of NFTs was encrypted."}}},"version":1},"userdoc":{"kind":"user","methods":{"encryptDecrypt(bytes,bytes)":{"notice":"Encrypt/decrypt data on chain."},"getRevealURI(uint256,bytes)":{"notice":"Returns revealed URI for a batch of NFTs."},"isEncryptedBatch(uint256)":{"notice":"Returns whether the relvant batch of NFTs is subject to a delayed reveal."},"reveal(uint256,bytes)":{"notice":"Reveals a batch of delayed reveal NFTs."}},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink/","@ds-test/=lib/ds-test/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@std/=lib/forge-std/src/","@thirdweb-dev/dynamic-contracts/=lib/dynamic-contracts/","ERC721A-Upgradeable/=lib/ERC721A-Upgradeable/contracts/","ERC721A/=lib/ERC721A/contracts/","chainlink/=lib/chainlink/contracts/","contracts/=contracts/","ds-test/=lib/ds-test/src/","dynamic-contracts/=lib/dynamic-contracts/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","erc721a-upgradeable/=lib/ERC721A-Upgradeable/","erc721a/=lib/ERC721A/","forge-std/=lib/forge-std/src/","lib/sstore2/=lib/dynamic-contracts/lib/sstore2/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/","sstore2/=lib/dynamic-contracts/lib/sstore2/contracts/"],"optimizer":{"enabled":true,"runs":20},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/extension/DelayedReveal.sol":"DelayedReveal"},"libraries":{}},"sources":{"contracts/extension/DelayedReveal.sol":{"keccak256":"0x2a860e4b857617a1c87c5fb79df2dd4a70e0e63ec6796f58ce9d0b3b93f1e242","urls":["bzz-raw://cc4039ae41d23b921c13b500018e333d63dd9b3be65e700e0d05465d3ac680a3","dweb:/ipfs/QmSLCVWqjVzDt9ygXmBffERFCYCo7RiGry2BhQjXcnZjQ6"],"license":"Apache-2.0"},"contracts/extension/interface/IDelayedReveal.sol":{"keccak256":"0xbbe98263ebce49f81cb42f8bf1e7e631afd81cda73be79b907e81a2f54fd2123","urls":["bzz-raw://76913c2086e309c97ac0d5be72bbe23e66fe35e231c75318993c14e6aa4c0138","dweb:/ipfs/QmXwr49U275Cam8x9mYcNdcCmZHUYuBge3CtFPkBkEMzL4"],"license":"Apache-2.0"}},"version":1},"ast":{"absolutePath":"contracts/extension/DelayedReveal.sol","id":18146,"exportedSymbols":{"DelayedReveal":[18145],"IDelayedReveal":[32964]},"nodeType":"SourceUnit","src":"39:4030:57","nodes":[{"id":17988,"nodeType":"PragmaDirective","src":"39:23:57","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":17989,"nodeType":"ImportDirective","src":"86:40:57","nodes":[],"absolutePath":"contracts/extension/interface/IDelayedReveal.sol","file":"./interface/IDelayedReveal.sol","nameLocation":"-1:-1:-1","scope":18146,"sourceUnit":32965,"symbolAliases":[],"unitAlias":""},{"id":18145,"nodeType":"ContractDefinition","src":"430:3638:57","nodes":[{"id":17997,"nodeType":"VariableDeclaration","src":"568:46:57","nodes":[],"constant":false,"documentation":{"id":17993,"nodeType":"StructuredDocumentation","src":"486:77:57","text":"@dev Mapping from tokenId of a batch of tokens => to delayed reveal data."},"functionSelector":"a05112fc","mutability":"mutable","name":"encryptedData","nameLocation":"601:13:57","scope":18145,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes)"},"typeName":{"id":17996,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":17994,"name":"uint256","nodeType":"ElementaryTypeName","src":"576:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"568:25:57","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":17995,"name":"bytes","nodeType":"ElementaryTypeName","src":"587:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},"visibility":"public"},{"id":18012,"nodeType":"FunctionDefinition","src":"678:140:57","nodes":[],"body":{"id":18011,"nodeType":"Block","src":"761:57:57","nodes":[],"statements":[{"expression":{"id":18009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":18005,"name":"encryptedData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17997,"src":"771:13:57","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes storage ref)"}},"id":18007,"indexExpression":{"id":18006,"name":"_batchId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18000,"src":"785:8:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"771:23:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":18008,"name":"_encryptedData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18002,"src":"797:14:57","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"src":"771:40:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"id":18010,"nodeType":"ExpressionStatement","src":"771:40:57"}]},"documentation":{"id":17998,"nodeType":"StructuredDocumentation","src":"621:52:57","text":"@dev Sets the delayed reveal data for a batchId."},"implemented":true,"kind":"function","modifiers":[],"name":"_setEncryptedData","nameLocation":"687:17:57","parameters":{"id":18003,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18000,"mutability":"mutable","name":"_batchId","nameLocation":"713:8:57","nodeType":"VariableDeclaration","scope":18012,"src":"705:16:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17999,"name":"uint256","nodeType":"ElementaryTypeName","src":"705:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":18002,"mutability":"mutable","name":"_encryptedData","nameLocation":"736:14:57","nodeType":"VariableDeclaration","scope":18012,"src":"723:27:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":18001,"name":"bytes","nodeType":"ElementaryTypeName","src":"723:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"704:47:57"},"returnParameters":{"id":18004,"nodeType":"ParameterList","parameters":[],"src":"761:0:57"},"scope":18145,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":18078,"nodeType":"FunctionDefinition","src":"1383:534:57","nodes":[],"body":{"id":18077,"nodeType":"Block","src":"1492:425:57","nodes":[],"statements":[{"assignments":[18023],"declarations":[{"constant":false,"id":18023,"mutability":"mutable","name":"data","nameLocation":"1515:4:57","nodeType":"VariableDeclaration","scope":18077,"src":"1502:17:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":18022,"name":"bytes","nodeType":"ElementaryTypeName","src":"1502:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":18027,"initialValue":{"baseExpression":{"id":18024,"name":"encryptedData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17997,"src":"1522:13:57","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes storage ref)"}},"id":18026,"indexExpression":{"id":18025,"name":"_batchId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18015,"src":"1536:8:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1522:23:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"nodeType":"VariableDeclarationStatement","src":"1502:43:57"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":18031,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":18028,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18023,"src":"1559:4:57","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":18029,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1564:6:57","memberName":"length","nodeType":"MemberAccess","src":"1559:11:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":18030,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1574:1:57","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1559:16:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":18037,"nodeType":"IfStatement","src":"1555:74:57","trueBody":{"id":18036,"nodeType":"Block","src":"1577:52:57","statements":[{"expression":{"arguments":[{"hexValue":"4e6f7468696e6720746f2072657665616c","id":18033,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1598:19:57","typeDescriptions":{"typeIdentifier":"t_stringliteral_bb67ecc122c4da1ed986aaa7b8014a3167ed82c3b6322841c18f50e188681cef","typeString":"literal_string \"Nothing to reveal\""},"value":"Nothing to reveal"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_bb67ecc122c4da1ed986aaa7b8014a3167ed82c3b6322841c18f50e188681cef","typeString":"literal_string \"Nothing to reveal\""}],"id":18032,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"1591:6:57","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":18034,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1591:27:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":18035,"nodeType":"ExpressionStatement","src":"1591:27:57"}]}},{"assignments":[18039,18041],"declarations":[{"constant":false,"id":18039,"mutability":"mutable","name":"encryptedURI","nameLocation":"1653:12:57","nodeType":"VariableDeclaration","scope":18077,"src":"1640:25:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":18038,"name":"bytes","nodeType":"ElementaryTypeName","src":"1640:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":18041,"mutability":"mutable","name":"provenanceHash","nameLocation":"1675:14:57","nodeType":"VariableDeclaration","scope":18077,"src":"1667:22:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":18040,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1667:7:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":18051,"initialValue":{"arguments":[{"id":18044,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18023,"src":"1704:4:57","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":18046,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1711:5:57","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":18045,"name":"bytes","nodeType":"ElementaryTypeName","src":"1711:5:57","typeDescriptions":{}}},{"id":18048,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1718:7:57","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":18047,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1718:7:57","typeDescriptions":{}}}],"id":18049,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"1710:16:57","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_bytes_storage_ptr_$_$_t_type$_t_bytes32_$_$","typeString":"tuple(type(bytes storage pointer),type(bytes32))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_tuple$_t_type$_t_bytes_storage_ptr_$_$_t_type$_t_bytes32_$_$","typeString":"tuple(type(bytes storage pointer),type(bytes32))"}],"expression":{"id":18042,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1693:3:57","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":18043,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1697:6:57","memberName":"decode","nodeType":"MemberAccess","src":"1693:10:57","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":18050,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1693:34:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes_memory_ptr_$_t_bytes32_$","typeString":"tuple(bytes memory,bytes32)"}},"nodeType":"VariableDeclarationStatement","src":"1639:88:57"},{"expression":{"id":18060,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":18052,"name":"revealedURI","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18020,"src":"1738:11:57","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":18056,"name":"encryptedURI","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18039,"src":"1774:12:57","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":18057,"name":"_key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18017,"src":"1788:4:57","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"id":18055,"name":"encryptDecrypt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18128,"src":"1759:14:57","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_bytes_calldata_ptr_$returns$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,bytes calldata) pure returns (bytes memory)"}},"id":18058,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1759:34:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":18054,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1752:6:57","typeDescriptions":{"typeIdentifier":"t_type$_t_string_storage_ptr_$","typeString":"type(string storage pointer)"},"typeName":{"id":18053,"name":"string","nodeType":"ElementaryTypeName","src":"1752:6:57","typeDescriptions":{}}},"id":18059,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1752:42:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"src":"1738:56:57","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"id":18061,"nodeType":"ExpressionStatement","src":"1738:56:57"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":18073,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":18066,"name":"revealedURI","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18020,"src":"1840:11:57","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},{"id":18067,"name":"_key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18017,"src":"1853:4:57","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"expression":{"id":18068,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"1859:5:57","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":18069,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1865:7:57","memberName":"chainid","nodeType":"MemberAccess","src":"1859:13:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":18064,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1823:3:57","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":18065,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1827:12:57","memberName":"encodePacked","nodeType":"MemberAccess","src":"1823:16:57","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":18070,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1823:50:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":18063,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"1813:9:57","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":18071,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1813:61:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":18072,"name":"provenanceHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18041,"src":"1878:14:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"1813:79:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e636f7272656374206b6579","id":18074,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1894:15:57","typeDescriptions":{"typeIdentifier":"t_stringliteral_e110431088d02c013accfadfbafa36f4bc0286b4ffb9e1df12de6773059a4412","typeString":"literal_string \"Incorrect key\""},"value":"Incorrect key"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e110431088d02c013accfadfbafa36f4bc0286b4ffb9e1df12de6773059a4412","typeString":"literal_string \"Incorrect key\""}],"id":18062,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1805:7:57","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":18075,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1805:105:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":18076,"nodeType":"ExpressionStatement","src":"1805:105:57"}]},"documentation":{"id":18013,"nodeType":"StructuredDocumentation","src":"824:554:57","text":"  @notice             Returns revealed URI for a batch of NFTs.\n  @dev                Reveal encrypted base URI for `_batchId` with caller/admin's `_key` used for encryption.\n                      Reverts if there's no encrypted URI for `_batchId`.\n                      See {encryptDecrypt}.\n  @param _batchId     ID of the batch for which URI is being revealed.\n  @param _key         Secure key used by caller/admin for encryption of baseURI.\n  @return revealedURI Decrypted base URI."},"functionSelector":"9fc4d68f","implemented":true,"kind":"function","modifiers":[],"name":"getRevealURI","nameLocation":"1392:12:57","parameters":{"id":18018,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18015,"mutability":"mutable","name":"_batchId","nameLocation":"1413:8:57","nodeType":"VariableDeclaration","scope":18078,"src":"1405:16:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":18014,"name":"uint256","nodeType":"ElementaryTypeName","src":"1405:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":18017,"mutability":"mutable","name":"_key","nameLocation":"1438:4:57","nodeType":"VariableDeclaration","scope":18078,"src":"1423:19:57","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":18016,"name":"bytes","nodeType":"ElementaryTypeName","src":"1423:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1404:39:57"},"returnParameters":{"id":18021,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18020,"mutability":"mutable","name":"revealedURI","nameLocation":"1479:11:57","nodeType":"VariableDeclaration","scope":18078,"src":"1465:25:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":18019,"name":"string","nodeType":"ElementaryTypeName","src":"1465:6:57","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1464:27:57"},"scope":18145,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":18128,"nodeType":"FunctionDefinition","src":"2409:1283:57","nodes":[],"body":{"id":18127,"nodeType":"Block","src":"2523:1169:57","nodes":[],"statements":[{"assignments":[18090],"declarations":[{"constant":false,"id":18090,"mutability":"mutable","name":"length","nameLocation":"2593:6:57","nodeType":"VariableDeclaration","scope":18127,"src":"2585:14:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":18089,"name":"uint256","nodeType":"ElementaryTypeName","src":"2585:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":18093,"initialValue":{"expression":{"id":18091,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18081,"src":"2602:4:57","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":18092,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2607:6:57","memberName":"length","nodeType":"MemberAccess","src":"2602:11:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2585:28:57"},{"AST":{"nativeSrc":"2689:276:57","nodeType":"YulBlock","src":"2689:276:57","statements":[{"nativeSrc":"2752:21:57","nodeType":"YulAssignment","src":"2752:21:57","value":{"arguments":[{"kind":"number","nativeSrc":"2768:4:57","nodeType":"YulLiteral","src":"2768:4:57","type":"","value":"0x40"}],"functionName":{"name":"mload","nativeSrc":"2762:5:57","nodeType":"YulIdentifier","src":"2762:5:57"},"nativeSrc":"2762:11:57","nodeType":"YulFunctionCall","src":"2762:11:57"},"variableNames":[{"name":"result","nativeSrc":"2752:6:57","nodeType":"YulIdentifier","src":"2752:6:57"}]},{"expression":{"arguments":[{"kind":"number","nativeSrc":"2852:4:57","nodeType":"YulLiteral","src":"2852:4:57","type":"","value":"0x40"},{"arguments":[{"arguments":[{"name":"result","nativeSrc":"2866:6:57","nodeType":"YulIdentifier","src":"2866:6:57"},{"name":"length","nativeSrc":"2874:6:57","nodeType":"YulIdentifier","src":"2874:6:57"}],"functionName":{"name":"add","nativeSrc":"2862:3:57","nodeType":"YulIdentifier","src":"2862:3:57"},"nativeSrc":"2862:19:57","nodeType":"YulFunctionCall","src":"2862:19:57"},{"kind":"number","nativeSrc":"2883:2:57","nodeType":"YulLiteral","src":"2883:2:57","type":"","value":"32"}],"functionName":{"name":"add","nativeSrc":"2858:3:57","nodeType":"YulIdentifier","src":"2858:3:57"},"nativeSrc":"2858:28:57","nodeType":"YulFunctionCall","src":"2858:28:57"}],"functionName":{"name":"mstore","nativeSrc":"2845:6:57","nodeType":"YulIdentifier","src":"2845:6:57"},"nativeSrc":"2845:42:57","nodeType":"YulFunctionCall","src":"2845:42:57"},"nativeSrc":"2845:42:57","nodeType":"YulExpressionStatement","src":"2845:42:57"},{"expression":{"arguments":[{"name":"result","nativeSrc":"2940:6:57","nodeType":"YulIdentifier","src":"2940:6:57"},{"name":"length","nativeSrc":"2948:6:57","nodeType":"YulIdentifier","src":"2948:6:57"}],"functionName":{"name":"mstore","nativeSrc":"2933:6:57","nodeType":"YulIdentifier","src":"2933:6:57"},"nativeSrc":"2933:22:57","nodeType":"YulFunctionCall","src":"2933:22:57"},"nativeSrc":"2933:22:57","nodeType":"YulExpressionStatement","src":"2933:22:57"}]},"evmVersion":"london","externalReferences":[{"declaration":18090,"isOffset":false,"isSlot":false,"src":"2874:6:57","valueSize":1},{"declaration":18090,"isOffset":false,"isSlot":false,"src":"2948:6:57","valueSize":1},{"declaration":18087,"isOffset":false,"isSlot":false,"src":"2752:6:57","valueSize":1},{"declaration":18087,"isOffset":false,"isSlot":false,"src":"2866:6:57","valueSize":1},{"declaration":18087,"isOffset":false,"isSlot":false,"src":"2940:6:57","valueSize":1}],"id":18094,"nodeType":"InlineAssembly","src":"2680:285:57"},{"body":{"id":18125,"nodeType":"Block","src":"3070:616:57","statements":[{"assignments":[18107],"declarations":[{"constant":false,"id":18107,"mutability":"mutable","name":"hash","nameLocation":"3143:4:57","nodeType":"VariableDeclaration","scope":18125,"src":"3135:12:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":18106,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3135:7:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":18115,"initialValue":{"arguments":[{"arguments":[{"id":18111,"name":"key","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18083,"src":"3177:3:57","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},{"id":18112,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18096,"src":"3182:1:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":18109,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"3160:3:57","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":18110,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3164:12:57","memberName":"encodePacked","nodeType":"MemberAccess","src":"3160:16:57","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":18113,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3160:24:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":18108,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"3150:9:57","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":18114,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3150:35:57","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"3135:50:57"},{"assignments":[18117],"declarations":[{"constant":false,"id":18117,"mutability":"mutable","name":"chunk","nameLocation":"3208:5:57","nodeType":"VariableDeclaration","scope":18125,"src":"3200:13:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":18116,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3200:7:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":18118,"nodeType":"VariableDeclarationStatement","src":"3200:13:57"},{"AST":{"nativeSrc":"3296:113:57","nodeType":"YulBlock","src":"3296:113:57","statements":[{"nativeSrc":"3358:37:57","nodeType":"YulAssignment","src":"3358:37:57","value":{"arguments":[{"arguments":[{"name":"data","nativeSrc":"3377:4:57","nodeType":"YulIdentifier","src":"3377:4:57"},{"arguments":[{"name":"i","nativeSrc":"3387:1:57","nodeType":"YulIdentifier","src":"3387:1:57"},{"kind":"number","nativeSrc":"3390:2:57","nodeType":"YulLiteral","src":"3390:2:57","type":"","value":"32"}],"functionName":{"name":"add","nativeSrc":"3383:3:57","nodeType":"YulIdentifier","src":"3383:3:57"},"nativeSrc":"3383:10:57","nodeType":"YulFunctionCall","src":"3383:10:57"}],"functionName":{"name":"add","nativeSrc":"3373:3:57","nodeType":"YulIdentifier","src":"3373:3:57"},"nativeSrc":"3373:21:57","nodeType":"YulFunctionCall","src":"3373:21:57"}],"functionName":{"name":"mload","nativeSrc":"3367:5:57","nodeType":"YulIdentifier","src":"3367:5:57"},"nativeSrc":"3367:28:57","nodeType":"YulFunctionCall","src":"3367:28:57"},"variableNames":[{"name":"chunk","nativeSrc":"3358:5:57","nodeType":"YulIdentifier","src":"3358:5:57"}]}]},"evmVersion":"london","externalReferences":[{"declaration":18117,"isOffset":false,"isSlot":false,"src":"3358:5:57","valueSize":1},{"declaration":18081,"isOffset":false,"isSlot":false,"src":"3377:4:57","valueSize":1},{"declaration":18096,"isOffset":false,"isSlot":false,"src":"3387:1:57","valueSize":1}],"id":18119,"nodeType":"InlineAssembly","src":"3287:122:57"},{"expression":{"id":18122,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":18120,"name":"chunk","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18117,"src":"3461:5:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"^=","rightHandSide":{"id":18121,"name":"hash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18107,"src":"3470:4:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3461:13:57","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":18123,"nodeType":"ExpressionStatement","src":"3461:13:57"},{"AST":{"nativeSrc":"3557:119:57","nodeType":"YulBlock","src":"3557:119:57","statements":[{"expression":{"arguments":[{"arguments":[{"name":"result","nativeSrc":"3635:6:57","nodeType":"YulIdentifier","src":"3635:6:57"},{"arguments":[{"name":"i","nativeSrc":"3647:1:57","nodeType":"YulIdentifier","src":"3647:1:57"},{"kind":"number","nativeSrc":"3650:2:57","nodeType":"YulLiteral","src":"3650:2:57","type":"","value":"32"}],"functionName":{"name":"add","nativeSrc":"3643:3:57","nodeType":"YulIdentifier","src":"3643:3:57"},"nativeSrc":"3643:10:57","nodeType":"YulFunctionCall","src":"3643:10:57"}],"functionName":{"name":"add","nativeSrc":"3631:3:57","nodeType":"YulIdentifier","src":"3631:3:57"},"nativeSrc":"3631:23:57","nodeType":"YulFunctionCall","src":"3631:23:57"},{"name":"chunk","nativeSrc":"3656:5:57","nodeType":"YulIdentifier","src":"3656:5:57"}],"functionName":{"name":"mstore","nativeSrc":"3624:6:57","nodeType":"YulIdentifier","src":"3624:6:57"},"nativeSrc":"3624:38:57","nodeType":"YulFunctionCall","src":"3624:38:57"},"nativeSrc":"3624:38:57","nodeType":"YulExpressionStatement","src":"3624:38:57"}]},"evmVersion":"london","externalReferences":[{"declaration":18117,"isOffset":false,"isSlot":false,"src":"3656:5:57","valueSize":1},{"declaration":18096,"isOffset":false,"isSlot":false,"src":"3647:1:57","valueSize":1},{"declaration":18087,"isOffset":false,"isSlot":false,"src":"3635:6:57","valueSize":1}],"id":18124,"nodeType":"InlineAssembly","src":"3548:128:57"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":18101,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":18099,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18096,"src":"3049:1:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":18100,"name":"length","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18090,"src":"3053:6:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3049:10:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":18126,"initializationExpression":{"assignments":[18096],"declarations":[{"constant":false,"id":18096,"mutability":"mutable","name":"i","nameLocation":"3042:1:57","nodeType":"VariableDeclaration","scope":18126,"src":"3034:9:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":18095,"name":"uint256","nodeType":"ElementaryTypeName","src":"3034:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":18098,"initialValue":{"hexValue":"30","id":18097,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3046:1:57","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"3034:13:57"},"isSimpleCounterLoop":false,"loopExpression":{"expression":{"id":18104,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":18102,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18096,"src":"3061:1:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"hexValue":"3332","id":18103,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3066:2:57","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"3061:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":18105,"nodeType":"ExpressionStatement","src":"3061:7:57"},"nodeType":"ForStatement","src":"3029:657:57"}]},"baseFunctions":[32963],"documentation":{"id":18079,"nodeType":"StructuredDocumentation","src":"1923:481:57","text":"  @notice         Encrypt/decrypt data on chain.\n  @dev            Encrypt/decrypt given `data` with `key`. Uses inline assembly.\n                  See: https://ethereum.stackexchange.com/questions/69825/decrypt-message-on-chain\n  @param data     Bytes of data to encrypt/decrypt.\n  @param key      Secure key used by caller for encryption/decryption.\n  @return result  Output after encryption/decryption of given data."},"functionSelector":"e7150322","implemented":true,"kind":"function","modifiers":[],"name":"encryptDecrypt","nameLocation":"2418:14:57","overrides":{"id":18085,"nodeType":"OverrideSpecifier","overrides":[],"src":"2484:8:57"},"parameters":{"id":18084,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18081,"mutability":"mutable","name":"data","nameLocation":"2446:4:57","nodeType":"VariableDeclaration","scope":18128,"src":"2433:17:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":18080,"name":"bytes","nodeType":"ElementaryTypeName","src":"2433:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":18083,"mutability":"mutable","name":"key","nameLocation":"2467:3:57","nodeType":"VariableDeclaration","scope":18128,"src":"2452:18:57","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":18082,"name":"bytes","nodeType":"ElementaryTypeName","src":"2452:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2432:39:57"},"returnParameters":{"id":18088,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18087,"mutability":"mutable","name":"result","nameLocation":"2515:6:57","nodeType":"VariableDeclaration","scope":18128,"src":"2502:19:57","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":18086,"name":"bytes","nodeType":"ElementaryTypeName","src":"2502:5:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2501:21:57"},"scope":18145,"stateMutability":"pure","virtual":false,"visibility":"public"},{"id":18144,"nodeType":"FunctionDefinition","src":"3937:129:57","nodes":[],"body":{"id":18143,"nodeType":"Block","src":"4008:58:57","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":18141,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":18136,"name":"encryptedData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17997,"src":"4025:13:57","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_bytes_storage_$","typeString":"mapping(uint256 => bytes storage ref)"}},"id":18138,"indexExpression":{"id":18137,"name":"_batchId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18131,"src":"4039:8:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4025:23:57","typeDescriptions":{"typeIdentifier":"t_bytes_storage","typeString":"bytes storage ref"}},"id":18139,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4049:6:57","memberName":"length","nodeType":"MemberAccess","src":"4025:30:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":18140,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4058:1:57","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4025:34:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":18135,"id":18142,"nodeType":"Return","src":"4018:41:57"}]},"documentation":{"id":18129,"nodeType":"StructuredDocumentation","src":"3698:234:57","text":"  @notice         Returns whether the relvant batch of NFTs is subject to a delayed reveal.\n  @dev            Returns `true` if `_batchId`'s base URI is encrypted.\n  @param _batchId ID of a batch of NFTs."},"functionSelector":"492e224b","implemented":true,"kind":"function","modifiers":[],"name":"isEncryptedBatch","nameLocation":"3946:16:57","parameters":{"id":18132,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18131,"mutability":"mutable","name":"_batchId","nameLocation":"3971:8:57","nodeType":"VariableDeclaration","scope":18144,"src":"3963:16:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":18130,"name":"uint256","nodeType":"ElementaryTypeName","src":"3963:7:57","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3962:18:57"},"returnParameters":{"id":18135,"nodeType":"ParameterList","parameters":[{"constant":false,"id":18134,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":18144,"src":"4002:4:57","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":18133,"name":"bool","nodeType":"ElementaryTypeName","src":"4002:4:57","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4001:6:57"},"scope":18145,"stateMutability":"view","virtual":false,"visibility":"public"}],"abstract":true,"baseContracts":[{"baseName":{"id":17991,"name":"IDelayedReveal","nameLocations":["465:14:57"],"nodeType":"IdentifierPath","referencedDeclaration":32964,"src":"465:14:57"},"id":17992,"nodeType":"InheritanceSpecifier","src":"465:14:57"}],"canonicalName":"DelayedReveal","contractDependencies":[],"contractKind":"contract","documentation":{"id":17990,"nodeType":"StructuredDocumentation","src":"128:300:57","text":"  @title   Delayed Reveal\n  @notice  Thirdweb's `DelayedReveal` is a contract extension for base NFT contracts. It lets you create batches of\n           'delayed-reveal' NFTs. You can learn more about the usage of delayed reveal NFTs here - https://blog.thirdweb.com/delayed-reveal-nfts"},"fullyImplemented":false,"linearizedBaseContracts":[18145,32964],"name":"DelayedReveal","nameLocation":"448:13:57","scope":18146,"usedErrors":[],"usedEvents":[32943]}],"license":"Apache-2.0"},"id":57}