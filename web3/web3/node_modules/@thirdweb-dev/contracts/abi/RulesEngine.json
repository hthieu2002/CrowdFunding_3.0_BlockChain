{"abi":[{"type":"function","name":"createRuleMultiplicative","inputs":[{"name":"rule","type":"tuple","internalType":"struct IRulesEngine.RuleTypeMultiplicative","components":[{"name":"token","type":"address","internalType":"address"},{"name":"tokenType","type":"uint8","internalType":"enum IRulesEngine.TokenType"},{"name":"tokenId","type":"uint256","internalType":"uint256"},{"name":"scorePerOwnedToken","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"ruleId","type":"bytes32","internalType":"bytes32"}],"stateMutability":"nonpayable"},{"type":"function","name":"createRuleThreshold","inputs":[{"name":"rule","type":"tuple","internalType":"struct IRulesEngine.RuleTypeThreshold","components":[{"name":"token","type":"address","internalType":"address"},{"name":"tokenType","type":"uint8","internalType":"enum IRulesEngine.TokenType"},{"name":"tokenId","type":"uint256","internalType":"uint256"},{"name":"balance","type":"uint256","internalType":"uint256"},{"name":"score","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"ruleId","type":"bytes32","internalType":"bytes32"}],"stateMutability":"nonpayable"},{"type":"function","name":"deleteRule","inputs":[{"name":"_ruleId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getAllRules","inputs":[],"outputs":[{"name":"rules","type":"tuple[]","internalType":"struct IRulesEngine.RuleWithId[]","components":[{"name":"ruleId","type":"bytes32","internalType":"bytes32"},{"name":"token","type":"address","internalType":"address"},{"name":"tokenType","type":"uint8","internalType":"enum IRulesEngine.TokenType"},{"name":"tokenId","type":"uint256","internalType":"uint256"},{"name":"balance","type":"uint256","internalType":"uint256"},{"name":"score","type":"uint256","internalType":"uint256"},{"name":"ruleType","type":"uint8","internalType":"enum IRulesEngine.RuleType"}]}],"stateMutability":"view"},{"type":"function","name":"getRulesEngineOverride","inputs":[],"outputs":[{"name":"rulesEngineAddress","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getScore","inputs":[{"name":"_tokenOwner","type":"address","internalType":"address"}],"outputs":[{"name":"score","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"setRulesEngineOverride","inputs":[{"name":"_rulesEngineAddress","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"RuleCreated","inputs":[{"name":"ruleId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"rule","type":"tuple","indexed":false,"internalType":"struct IRulesEngine.RuleWithId","components":[{"name":"ruleId","type":"bytes32","internalType":"bytes32"},{"name":"token","type":"address","internalType":"address"},{"name":"tokenType","type":"uint8","internalType":"enum IRulesEngine.TokenType"},{"name":"tokenId","type":"uint256","internalType":"uint256"},{"name":"balance","type":"uint256","internalType":"uint256"},{"name":"score","type":"uint256","internalType":"uint256"},{"name":"ruleType","type":"uint8","internalType":"enum IRulesEngine.RuleType"}]}],"anonymous":false},{"type":"event","name":"RuleDeleted","inputs":[{"name":"ruleId","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"RulesEngineOverriden","inputs":[{"name":"newRulesEngine","type":"address","indexed":true,"internalType":"address"}],"anonymous":false}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"createRuleMultiplicative((address,uint8,uint256,uint256))":"1e2e9cb5","createRuleThreshold((address,uint8,uint256,uint256,uint256))":"1022a25e","deleteRule(bytes32)":"9d907761","getAllRules()":"1184aef2","getRulesEngineOverride()":"a7145eb4","getScore(address)":"d47875d0","setRulesEngineOverride(address)":"0eb0adb6"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"ruleId\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"ruleId\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"enum IRulesEngine.TokenType\",\"name\":\"tokenType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"score\",\"type\":\"uint256\"},{\"internalType\":\"enum IRulesEngine.RuleType\",\"name\":\"ruleType\",\"type\":\"uint8\"}],\"indexed\":false,\"internalType\":\"struct IRulesEngine.RuleWithId\",\"name\":\"rule\",\"type\":\"tuple\"}],\"name\":\"RuleCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"ruleId\",\"type\":\"bytes32\"}],\"name\":\"RuleDeleted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newRulesEngine\",\"type\":\"address\"}],\"name\":\"RulesEngineOverriden\",\"type\":\"event\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"enum IRulesEngine.TokenType\",\"name\":\"tokenType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"scorePerOwnedToken\",\"type\":\"uint256\"}],\"internalType\":\"struct IRulesEngine.RuleTypeMultiplicative\",\"name\":\"rule\",\"type\":\"tuple\"}],\"name\":\"createRuleMultiplicative\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"ruleId\",\"type\":\"bytes32\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"enum IRulesEngine.TokenType\",\"name\":\"tokenType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"score\",\"type\":\"uint256\"}],\"internalType\":\"struct IRulesEngine.RuleTypeThreshold\",\"name\":\"rule\",\"type\":\"tuple\"}],\"name\":\"createRuleThreshold\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"ruleId\",\"type\":\"bytes32\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"_ruleId\",\"type\":\"bytes32\"}],\"name\":\"deleteRule\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAllRules\",\"outputs\":[{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"ruleId\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"enum IRulesEngine.TokenType\",\"name\":\"tokenType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"score\",\"type\":\"uint256\"},{\"internalType\":\"enum IRulesEngine.RuleType\",\"name\":\"ruleType\",\"type\":\"uint8\"}],\"internalType\":\"struct IRulesEngine.RuleWithId[]\",\"name\":\"rules\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRulesEngineOverride\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"rulesEngineAddress\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_tokenOwner\",\"type\":\"address\"}],\"name\":\"getScore\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"score\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_rulesEngineAddress\",\"type\":\"address\"}],\"name\":\"setRulesEngineOverride\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/extension/upgradeable/RulesEngine.sol\":\"RulesEngine\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":20},\"remappings\":[\":@chainlink/=lib/chainlink/\",\":@ds-test/=lib/ds-test/src/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@std/=lib/forge-std/src/\",\":@thirdweb-dev/dynamic-contracts/=lib/dynamic-contracts/\",\":ERC721A-Upgradeable/=lib/ERC721A-Upgradeable/contracts/\",\":ERC721A/=lib/ERC721A/contracts/\",\":chainlink/=lib/chainlink/contracts/\",\":contracts/=contracts/\",\":ds-test/=lib/ds-test/src/\",\":dynamic-contracts/=lib/dynamic-contracts/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":erc721a-upgradeable/=lib/ERC721A-Upgradeable/\",\":erc721a/=lib/ERC721A/\",\":forge-std/=lib/forge-std/src/\",\":lib/sstore2/=lib/dynamic-contracts/lib/sstore2/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":sstore2/=lib/dynamic-contracts/lib/sstore2/contracts/\"]},\"sources\":{\"contracts/eip/interface/IERC1155.sol\":{\"keccak256\":\"0x19b9bee642c1b8e21c412a90fd08784dad7f567651edbe72bebf70d16551a2f4\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://9c3f49fddb363032b69842d35cfc2aa72c8a36f3db2bed1e9bad3fc486b96df5\",\"dweb:/ipfs/QmQ5tn1fboZBmXWDXRfBMGJqYS9FtaQC8NYHaCiJapaJLF\"]},\"contracts/eip/interface/IERC20.sol\":{\"keccak256\":\"0x458d6ffd4d79153b9bfca794efa8169bbb942b47723153e6d2b0051e2cd9dcf1\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://a08cdc1bfc92ed80fc6686fb51a018b896ee862ac9fa1a1599b3fa0198760ce8\",\"dweb:/ipfs/QmTxqXNnbht1GfzkTAKpQnpZdEADS9YXZdE8Cdr6cSJrNP\"]},\"contracts/eip/interface/IERC20Metadata.sol\":{\"keccak256\":\"0xc2500d7a12573fc6f9714d806bec722ad4110a68e6dd14b69903042421001734\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://02423735619f14f3a13fae0ad6e407385565f159ad956c8bd1c14b3605a73a65\",\"dweb:/ipfs/QmYfYWh5wGidaQ7qDbC8oSuQ3gsnd3moJbWZ8yBzMnrYz1\"]},\"contracts/eip/interface/IERC721.sol\":{\"keccak256\":\"0x00754fd93079350acb6b1d0451320cc4b4252bf7990aa39cde29abb5ca4a60ea\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c91392521b426c02b342d4ba0f2c5cad2c6074e1be90203c9525751dd23b36bf\",\"dweb:/ipfs/QmNjjCttJ9A39HMn3FTMqjQN5y7UoQrPUhQ7Nd8Ci7jFZj\"]},\"contracts/extension/interface/IRulesEngine.sol\":{\"keccak256\":\"0x8fe3dd345130a94008bdb46fb13a40eb6e2df9cf8261893103f18f548d8d511d\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://869bef4d59679ff81e361e97ef4973e7c9b1676aa52c5a332d292360a2f355ff\",\"dweb:/ipfs/QmeuGoVkJ9EynTsaXM3XkB7ME6BFqNDvynDuLAsfKjiTTv\"]},\"contracts/extension/upgradeable/RulesEngine.sol\":{\"keccak256\":\"0x8da8814c1a632b61e60b0e6fa5da2f5a4f6986c330165926c3f1f1a3248cc6f0\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://2b28feeef26e616fbfd62e96c1d6843e39d6c2bbd28379c5b732934d655a1045\",\"dweb:/ipfs/QmY6GVGBSi2cDYRtqPGPoCE8StwqywsmskMdyt4CnxDyDS\"]},\"contracts/external-deps/openzeppelin/utils/structs/EnumerableSet.sol\":{\"keccak256\":\"0x5050943b32b6a8f282573d166b2e9d87ab7eb4dbba4ab6acf36ecb54fe6995e4\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d4831d777a29ebdf9f2caecd70e74b97bff1b70e53622fd0a02aed01e21c8271\",\"dweb:/ipfs/QmUqurVVnCc7XkMxb2k23TVQUtuhHZduJ3hTZarTJrqU24\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"bytes32","name":"ruleId","type":"bytes32","indexed":true},{"internalType":"struct IRulesEngine.RuleWithId","name":"rule","type":"tuple","components":[{"internalType":"bytes32","name":"ruleId","type":"bytes32"},{"internalType":"address","name":"token","type":"address"},{"internalType":"enum IRulesEngine.TokenType","name":"tokenType","type":"uint8"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"enum IRulesEngine.RuleType","name":"ruleType","type":"uint8"}],"indexed":false}],"type":"event","name":"RuleCreated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"ruleId","type":"bytes32","indexed":true}],"type":"event","name":"RuleDeleted","anonymous":false},{"inputs":[{"internalType":"address","name":"newRulesEngine","type":"address","indexed":true}],"type":"event","name":"RulesEngineOverriden","anonymous":false},{"inputs":[{"internalType":"struct IRulesEngine.RuleTypeMultiplicative","name":"rule","type":"tuple","components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"enum IRulesEngine.TokenType","name":"tokenType","type":"uint8"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"scorePerOwnedToken","type":"uint256"}]}],"stateMutability":"nonpayable","type":"function","name":"createRuleMultiplicative","outputs":[{"internalType":"bytes32","name":"ruleId","type":"bytes32"}]},{"inputs":[{"internalType":"struct IRulesEngine.RuleTypeThreshold","name":"rule","type":"tuple","components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"enum IRulesEngine.TokenType","name":"tokenType","type":"uint8"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"score","type":"uint256"}]}],"stateMutability":"nonpayable","type":"function","name":"createRuleThreshold","outputs":[{"internalType":"bytes32","name":"ruleId","type":"bytes32"}]},{"inputs":[{"internalType":"bytes32","name":"_ruleId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"deleteRule"},{"inputs":[],"stateMutability":"view","type":"function","name":"getAllRules","outputs":[{"internalType":"struct IRulesEngine.RuleWithId[]","name":"rules","type":"tuple[]","components":[{"internalType":"bytes32","name":"ruleId","type":"bytes32"},{"internalType":"address","name":"token","type":"address"},{"internalType":"enum IRulesEngine.TokenType","name":"tokenType","type":"uint8"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"score","type":"uint256"},{"internalType":"enum IRulesEngine.RuleType","name":"ruleType","type":"uint8"}]}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getRulesEngineOverride","outputs":[{"internalType":"address","name":"rulesEngineAddress","type":"address"}]},{"inputs":[{"internalType":"address","name":"_tokenOwner","type":"address"}],"stateMutability":"view","type":"function","name":"getScore","outputs":[{"internalType":"uint256","name":"score","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"_rulesEngineAddress","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setRulesEngineOverride"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink/","@ds-test/=lib/ds-test/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@std/=lib/forge-std/src/","@thirdweb-dev/dynamic-contracts/=lib/dynamic-contracts/","ERC721A-Upgradeable/=lib/ERC721A-Upgradeable/contracts/","ERC721A/=lib/ERC721A/contracts/","chainlink/=lib/chainlink/contracts/","contracts/=contracts/","ds-test/=lib/ds-test/src/","dynamic-contracts/=lib/dynamic-contracts/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","erc721a-upgradeable/=lib/ERC721A-Upgradeable/","erc721a/=lib/ERC721A/","forge-std/=lib/forge-std/src/","lib/sstore2/=lib/dynamic-contracts/lib/sstore2/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/","sstore2/=lib/dynamic-contracts/lib/sstore2/contracts/"],"optimizer":{"enabled":true,"runs":20},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/extension/upgradeable/RulesEngine.sol":"RulesEngine"},"libraries":{}},"sources":{"contracts/eip/interface/IERC1155.sol":{"keccak256":"0x19b9bee642c1b8e21c412a90fd08784dad7f567651edbe72bebf70d16551a2f4","urls":["bzz-raw://9c3f49fddb363032b69842d35cfc2aa72c8a36f3db2bed1e9bad3fc486b96df5","dweb:/ipfs/QmQ5tn1fboZBmXWDXRfBMGJqYS9FtaQC8NYHaCiJapaJLF"],"license":"Apache-2.0"},"contracts/eip/interface/IERC20.sol":{"keccak256":"0x458d6ffd4d79153b9bfca794efa8169bbb942b47723153e6d2b0051e2cd9dcf1","urls":["bzz-raw://a08cdc1bfc92ed80fc6686fb51a018b896ee862ac9fa1a1599b3fa0198760ce8","dweb:/ipfs/QmTxqXNnbht1GfzkTAKpQnpZdEADS9YXZdE8Cdr6cSJrNP"],"license":"Apache-2.0"},"contracts/eip/interface/IERC20Metadata.sol":{"keccak256":"0xc2500d7a12573fc6f9714d806bec722ad4110a68e6dd14b69903042421001734","urls":["bzz-raw://02423735619f14f3a13fae0ad6e407385565f159ad956c8bd1c14b3605a73a65","dweb:/ipfs/QmYfYWh5wGidaQ7qDbC8oSuQ3gsnd3moJbWZ8yBzMnrYz1"],"license":"Apache-2.0"},"contracts/eip/interface/IERC721.sol":{"keccak256":"0x00754fd93079350acb6b1d0451320cc4b4252bf7990aa39cde29abb5ca4a60ea","urls":["bzz-raw://c91392521b426c02b342d4ba0f2c5cad2c6074e1be90203c9525751dd23b36bf","dweb:/ipfs/QmNjjCttJ9A39HMn3FTMqjQN5y7UoQrPUhQ7Nd8Ci7jFZj"],"license":"MIT"},"contracts/extension/interface/IRulesEngine.sol":{"keccak256":"0x8fe3dd345130a94008bdb46fb13a40eb6e2df9cf8261893103f18f548d8d511d","urls":["bzz-raw://869bef4d59679ff81e361e97ef4973e7c9b1676aa52c5a332d292360a2f355ff","dweb:/ipfs/QmeuGoVkJ9EynTsaXM3XkB7ME6BFqNDvynDuLAsfKjiTTv"],"license":"Apache-2.0"},"contracts/extension/upgradeable/RulesEngine.sol":{"keccak256":"0x8da8814c1a632b61e60b0e6fa5da2f5a4f6986c330165926c3f1f1a3248cc6f0","urls":["bzz-raw://2b28feeef26e616fbfd62e96c1d6843e39d6c2bbd28379c5b732934d655a1045","dweb:/ipfs/QmY6GVGBSi2cDYRtqPGPoCE8StwqywsmskMdyt4CnxDyDS"],"license":"Apache-2.0"},"contracts/external-deps/openzeppelin/utils/structs/EnumerableSet.sol":{"keccak256":"0x5050943b32b6a8f282573d166b2e9d87ab7eb4dbba4ab6acf36ecb54fe6995e4","urls":["bzz-raw://d4831d777a29ebdf9f2caecd70e74b97bff1b70e53622fd0a02aed01e21c8271","dweb:/ipfs/QmUqurVVnCc7XkMxb2k23TVQUtuhHZduJ3hTZarTJrqU24"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"contracts/extension/upgradeable/RulesEngine.sol","id":43717,"exportedSymbols":{"EnumerableSet":[51936],"IERC1155":[13751],"IERC20":[13908],"IERC20Metadata":[13927],"IERC721":[14114],"IRulesEngine":[34094],"RulesEngine":[43716],"RulesEngineStorage":[43227]},"nodeType":"SourceUnit","src":"39:6133:188","nodes":[{"id":43193,"nodeType":"PragmaDirective","src":"39:24:188","nodes":[],"literals":["solidity","^","0.8",".11"]},{"id":43194,"nodeType":"ImportDirective","src":"87:39:188","nodes":[],"absolutePath":"contracts/extension/interface/IRulesEngine.sol","file":"../interface/IRulesEngine.sol","nameLocation":"-1:-1:-1","scope":43717,"sourceUnit":34095,"symbolAliases":[],"unitAlias":""},{"id":43195,"nodeType":"ImportDirective","src":"128:40:188","nodes":[],"absolutePath":"contracts/eip/interface/IERC20.sol","file":"../../eip/interface/IERC20.sol","nameLocation":"-1:-1:-1","scope":43717,"sourceUnit":13909,"symbolAliases":[],"unitAlias":""},{"id":43196,"nodeType":"ImportDirective","src":"169:48:188","nodes":[],"absolutePath":"contracts/eip/interface/IERC20Metadata.sol","file":"../../eip/interface/IERC20Metadata.sol","nameLocation":"-1:-1:-1","scope":43717,"sourceUnit":13928,"symbolAliases":[],"unitAlias":""},{"id":43197,"nodeType":"ImportDirective","src":"218:41:188","nodes":[],"absolutePath":"contracts/eip/interface/IERC721.sol","file":"../../eip/interface/IERC721.sol","nameLocation":"-1:-1:-1","scope":43717,"sourceUnit":14115,"symbolAliases":[],"unitAlias":""},{"id":43198,"nodeType":"ImportDirective","src":"260:42:188","nodes":[],"absolutePath":"contracts/eip/interface/IERC1155.sol","file":"../../eip/interface/IERC1155.sol","nameLocation":"-1:-1:-1","scope":43717,"sourceUnit":13752,"symbolAliases":[],"unitAlias":""},{"id":43199,"nodeType":"ImportDirective","src":"304:74:188","nodes":[],"absolutePath":"contracts/external-deps/openzeppelin/utils/structs/EnumerableSet.sol","file":"../../external-deps/openzeppelin/utils/structs/EnumerableSet.sol","nameLocation":"-1:-1:-1","scope":43717,"sourceUnit":51937,"symbolAliases":[],"unitAlias":""},{"id":43227,"nodeType":"ContractDefinition","src":"380:690:188","nodes":[{"id":43203,"nodeType":"VariableDeclaration","src":"584:130:188","nodes":[],"constant":true,"documentation":{"id":43200,"nodeType":"StructuredDocumentation","src":"413:166:188","text":"@custom:storage-location erc7201:rules.engine.storage\n @dev keccak256(abi.encode(uint256(keccak256(\"rules.engine.storage\")) - 1)) & ~bytes32(uint256(0xff))"},"functionSelector":"ac93ae44","mutability":"constant","name":"RULES_ENGINE_STORAGE_POSITION","nameLocation":"608:29:188","scope":43227,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":43201,"name":"bytes32","nodeType":"ElementaryTypeName","src":"584:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307834316434636230383762326334346137363162323238386534633861633131356537366135343665666438333763396132653963656332363631613439613030","id":43202,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"648:66:188","typeDescriptions":{"typeIdentifier":"t_rational_29776308018804927291613261012580841153847573815264711683682693973550035147264_by_1","typeString":"int_const 2977...(69 digits omitted)...7264"},"value":"0x41d4cb087b2c44a761b2288e4c8ac115e76a546efd837c9a2e9cec2661a49a00"},"visibility":"public"},{"id":43214,"nodeType":"StructDefinition","src":"721:153:188","nodes":[],"canonicalName":"RulesEngineStorage.Data","members":[{"constant":false,"id":43205,"mutability":"mutable","name":"rulesEngineOverride","nameLocation":"751:19:188","nodeType":"VariableDeclaration","scope":43214,"src":"743:27:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":43204,"name":"address","nodeType":"ElementaryTypeName","src":"743:7:188","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":43208,"mutability":"mutable","name":"ids","nameLocation":"805:3:188","nodeType":"VariableDeclaration","scope":43214,"src":"780:28:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_Bytes32Set_$51542_storage_ptr","typeString":"struct EnumerableSet.Bytes32Set"},"typeName":{"id":43207,"nodeType":"UserDefinedTypeName","pathNode":{"id":43206,"name":"EnumerableSet.Bytes32Set","nameLocations":["780:13:188","794:10:188"],"nodeType":"IdentifierPath","referencedDeclaration":51542,"src":"780:24:188"},"referencedDeclaration":51542,"src":"780:24:188","typeDescriptions":{"typeIdentifier":"t_struct$_Bytes32Set_$51542_storage_ptr","typeString":"struct EnumerableSet.Bytes32Set"}},"visibility":"internal"},{"constant":false,"id":43213,"mutability":"mutable","name":"rules","nameLocation":"862:5:188","nodeType":"VariableDeclaration","scope":43214,"src":"818:49:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_RuleWithId_$34033_storage_$","typeString":"mapping(bytes32 => struct IRulesEngine.RuleWithId)"},"typeName":{"id":43212,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":43209,"name":"bytes32","nodeType":"ElementaryTypeName","src":"826:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"818:43:188","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_RuleWithId_$34033_storage_$","typeString":"mapping(bytes32 => struct IRulesEngine.RuleWithId)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":43211,"nodeType":"UserDefinedTypeName","pathNode":{"id":43210,"name":"IRulesEngine.RuleWithId","nameLocations":["837:12:188","850:10:188"],"nodeType":"IdentifierPath","referencedDeclaration":34033,"src":"837:23:188"},"referencedDeclaration":34033,"src":"837:23:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_storage_ptr","typeString":"struct IRulesEngine.RuleWithId"}}},"visibility":"internal"}],"name":"Data","nameLocation":"728:4:188","scope":43227,"visibility":"public"},{"id":43226,"nodeType":"FunctionDefinition","src":"880:188:188","nodes":[],"body":{"id":43225,"nodeType":"Block","src":"939:129:188","nodes":[],"statements":[{"assignments":[43221],"declarations":[{"constant":false,"id":43221,"mutability":"mutable","name":"position","nameLocation":"957:8:188","nodeType":"VariableDeclaration","scope":43225,"src":"949:16:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":43220,"name":"bytes32","nodeType":"ElementaryTypeName","src":"949:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":43223,"initialValue":{"id":43222,"name":"RULES_ENGINE_STORAGE_POSITION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43203,"src":"968:29:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"949:48:188"},{"AST":{"nativeSrc":"1016:46:188","nodeType":"YulBlock","src":"1016:46:188","statements":[{"nativeSrc":"1030:22:188","nodeType":"YulAssignment","src":"1030:22:188","value":{"name":"position","nativeSrc":"1044:8:188","nodeType":"YulIdentifier","src":"1044:8:188"},"variableNames":[{"name":"data_.slot","nativeSrc":"1030:10:188","nodeType":"YulIdentifier","src":"1030:10:188"}]}]},"evmVersion":"london","externalReferences":[{"declaration":43218,"isOffset":false,"isSlot":true,"src":"1030:10:188","suffix":"slot","valueSize":1},{"declaration":43221,"isOffset":false,"isSlot":false,"src":"1044:8:188","valueSize":1}],"id":43224,"nodeType":"InlineAssembly","src":"1007:55:188"}]},"implemented":true,"kind":"function","modifiers":[],"name":"data","nameLocation":"889:4:188","parameters":{"id":43215,"nodeType":"ParameterList","parameters":[],"src":"893:2:188"},"returnParameters":{"id":43219,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43218,"mutability":"mutable","name":"data_","nameLocation":"932:5:188","nodeType":"VariableDeclaration","scope":43226,"src":"919:18:188","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data"},"typeName":{"id":43217,"nodeType":"UserDefinedTypeName","pathNode":{"id":43216,"name":"Data","nameLocations":["919:4:188"],"nodeType":"IdentifierPath","referencedDeclaration":43214,"src":"919:4:188"},"referencedDeclaration":43214,"src":"919:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data"}},"visibility":"internal"}],"src":"918:20:188"},"scope":43227,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"RulesEngineStorage","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[43227],"name":"RulesEngineStorage","nameLocation":"388:18:188","scope":43717,"usedErrors":[],"usedEvents":[]},{"id":43716,"nodeType":"ContractDefinition","src":"1072:5099:188","nodes":[{"id":43233,"nodeType":"UsingForDirective","src":"1124:49:188","nodes":[],"global":false,"libraryName":{"id":43230,"name":"EnumerableSet","nameLocations":["1130:13:188"],"nodeType":"IdentifierPath","referencedDeclaration":51936,"src":"1130:13:188"},"typeName":{"id":43232,"nodeType":"UserDefinedTypeName","pathNode":{"id":43231,"name":"EnumerableSet.Bytes32Set","nameLocations":["1148:13:188","1162:10:188"],"nodeType":"IdentifierPath","referencedDeclaration":51542,"src":"1148:24:188"},"referencedDeclaration":51542,"src":"1148:24:188","typeDescriptions":{"typeIdentifier":"t_struct$_Bytes32Set_$51542_storage_ptr","typeString":"struct EnumerableSet.Bytes32Set"}}},{"id":43308,"nodeType":"FunctionDefinition","src":"1362:558:188","nodes":[],"body":{"id":43307,"nodeType":"Block","src":"1437:483:188","nodes":[],"statements":[{"assignments":[43241],"declarations":[{"constant":false,"id":43241,"mutability":"mutable","name":"engineOverride","nameLocation":"1455:14:188","nodeType":"VariableDeclaration","scope":43307,"src":"1447:22:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":43240,"name":"address","nodeType":"ElementaryTypeName","src":"1447:7:188","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":43244,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":43242,"name":"getRulesEngineOverride","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43378,"src":"1472:22:188","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":43243,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1472:24:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"1447:49:188"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":43250,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":43245,"name":"engineOverride","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43241,"src":"1510:14:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":43248,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1536:1:188","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":43247,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1528:7:188","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":43246,"name":"address","nodeType":"ElementaryTypeName","src":"1528:7:188","typeDescriptions":{}}},"id":43249,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1528:10:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1510:28:188","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":43259,"nodeType":"IfStatement","src":"1506:116:188","trueBody":{"id":43258,"nodeType":"Block","src":"1540:82:188","statements":[{"expression":{"arguments":[{"id":43255,"name":"_tokenOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43235,"src":"1599:11:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":43252,"name":"engineOverride","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43241,"src":"1574:14:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":43251,"name":"IRulesEngine","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34094,"src":"1561:12:188","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IRulesEngine_$34094_$","typeString":"type(contract IRulesEngine)"}},"id":43253,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1561:28:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IRulesEngine_$34094","typeString":"contract IRulesEngine"}},"id":43254,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1590:8:188","memberName":"getScore","nodeType":"MemberAccess","referencedDeclaration":34055,"src":"1561:37:188","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":43256,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1561:50:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":43239,"id":43257,"nodeType":"Return","src":"1554:57:188"}]}},{"assignments":[43264],"declarations":[{"constant":false,"id":43264,"mutability":"mutable","name":"ids","nameLocation":"1649:3:188","nodeType":"VariableDeclaration","scope":43307,"src":"1632:20:188","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":43262,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1632:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":43263,"nodeType":"ArrayTypeName","src":"1632:9:188","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"}],"id":43270,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":43265,"name":"_rulesEngineStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43705,"src":"1655:19:188","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$43214_storage_ptr_$","typeString":"function () pure returns (struct RulesEngineStorage.Data storage pointer)"}},"id":43266,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1655:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"id":43267,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1677:3:188","memberName":"ids","nodeType":"MemberAccess","referencedDeclaration":43208,"src":"1655:25:188","typeDescriptions":{"typeIdentifier":"t_struct$_Bytes32Set_$51542_storage","typeString":"struct EnumerableSet.Bytes32Set storage ref"}},"id":43268,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1681:6:188","memberName":"values","nodeType":"MemberAccess","referencedDeclaration":51645,"src":"1655:32:188","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_Bytes32Set_$51542_storage_ptr_$returns$_t_array$_t_bytes32_$dyn_memory_ptr_$attached_to$_t_struct$_Bytes32Set_$51542_storage_ptr_$","typeString":"function (struct EnumerableSet.Bytes32Set storage pointer) view returns (bytes32[] memory)"}},"id":43269,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1655:34:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"nodeType":"VariableDeclarationStatement","src":"1632:57:188"},{"assignments":[43272],"declarations":[{"constant":false,"id":43272,"mutability":"mutable","name":"len","nameLocation":"1707:3:188","nodeType":"VariableDeclaration","scope":43307,"src":"1699:11:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":43271,"name":"uint256","nodeType":"ElementaryTypeName","src":"1699:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":43275,"initialValue":{"expression":{"id":43273,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43264,"src":"1713:3:188","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"id":43274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1717:6:188","memberName":"length","nodeType":"MemberAccess","src":"1713:10:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1699:24:188"},{"body":{"id":43305,"nodeType":"Block","src":"1771:143:188","statements":[{"assignments":[43289],"declarations":[{"constant":false,"id":43289,"mutability":"mutable","name":"rule","nameLocation":"1803:4:188","nodeType":"VariableDeclaration","scope":43305,"src":"1785:22:188","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId"},"typeName":{"id":43288,"nodeType":"UserDefinedTypeName","pathNode":{"id":43287,"name":"RuleWithId","nameLocations":["1785:10:188"],"nodeType":"IdentifierPath","referencedDeclaration":34033,"src":"1785:10:188"},"referencedDeclaration":34033,"src":"1785:10:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_storage_ptr","typeString":"struct IRulesEngine.RuleWithId"}},"visibility":"internal"}],"id":43297,"initialValue":{"baseExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":43290,"name":"_rulesEngineStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43705,"src":"1810:19:188","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$43214_storage_ptr_$","typeString":"function () pure returns (struct RulesEngineStorage.Data storage pointer)"}},"id":43291,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1810:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"id":43292,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1832:5:188","memberName":"rules","nodeType":"MemberAccess","referencedDeclaration":43213,"src":"1810:27:188","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_RuleWithId_$34033_storage_$","typeString":"mapping(bytes32 => struct IRulesEngine.RuleWithId storage ref)"}},"id":43296,"indexExpression":{"baseExpression":{"id":43293,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43264,"src":"1838:3:188","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"id":43295,"indexExpression":{"id":43294,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43277,"src":"1842:1:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1838:6:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1810:35:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_storage","typeString":"struct IRulesEngine.RuleWithId storage ref"}},"nodeType":"VariableDeclarationStatement","src":"1785:60:188"},{"expression":{"id":43303,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43298,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43238,"src":"1859:5:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"arguments":[{"id":43300,"name":"_tokenOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43235,"src":"1885:11:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":43301,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43289,"src":"1898:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}],"id":43299,"name":"_getScoreForRule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43610,"src":"1868:16:188","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_struct$_RuleWithId_$34033_memory_ptr_$returns$_t_uint256_$","typeString":"function (address,struct IRulesEngine.RuleWithId memory) view returns (uint256)"}},"id":43302,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1868:35:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1859:44:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":43304,"nodeType":"ExpressionStatement","src":"1859:44:188"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":43282,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":43280,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43277,"src":"1754:1:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":43281,"name":"len","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43272,"src":"1758:3:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1754:7:188","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":43306,"initializationExpression":{"assignments":[43277],"declarations":[{"constant":false,"id":43277,"mutability":"mutable","name":"i","nameLocation":"1747:1:188","nodeType":"VariableDeclaration","scope":43306,"src":"1739:9:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":43276,"name":"uint256","nodeType":"ElementaryTypeName","src":"1739:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":43279,"initialValue":{"hexValue":"30","id":43278,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1751:1:188","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"1739:13:188"},"isSimpleCounterLoop":false,"loopExpression":{"expression":{"id":43285,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43283,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43277,"src":"1763:1:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"hexValue":"31","id":43284,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1768:1:188","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1763:6:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":43286,"nodeType":"ExpressionStatement","src":"1763:6:188"},"nodeType":"ForStatement","src":"1734:180:188"}]},"baseFunctions":[34055],"functionSelector":"d47875d0","implemented":true,"kind":"function","modifiers":[],"name":"getScore","nameLocation":"1371:8:188","parameters":{"id":43236,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43235,"mutability":"mutable","name":"_tokenOwner","nameLocation":"1388:11:188","nodeType":"VariableDeclaration","scope":43308,"src":"1380:19:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":43234,"name":"address","nodeType":"ElementaryTypeName","src":"1380:7:188","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1379:21:188"},"returnParameters":{"id":43239,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43238,"mutability":"mutable","name":"score","nameLocation":"1430:5:188","nodeType":"VariableDeclaration","scope":43308,"src":"1422:13:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":43237,"name":"uint256","nodeType":"ElementaryTypeName","src":"1422:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1421:15:188"},"scope":43716,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":43366,"nodeType":"FunctionDefinition","src":"1926:339:188","nodes":[],"body":{"id":43365,"nodeType":"Block","src":"1999:266:188","nodes":[],"statements":[{"assignments":[43319],"declarations":[{"constant":false,"id":43319,"mutability":"mutable","name":"ids","nameLocation":"2026:3:188","nodeType":"VariableDeclaration","scope":43365,"src":"2009:20:188","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":43317,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2009:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":43318,"nodeType":"ArrayTypeName","src":"2009:9:188","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"}],"id":43325,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":43320,"name":"_rulesEngineStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43705,"src":"2032:19:188","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$43214_storage_ptr_$","typeString":"function () pure returns (struct RulesEngineStorage.Data storage pointer)"}},"id":43321,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2032:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"id":43322,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2054:3:188","memberName":"ids","nodeType":"MemberAccess","referencedDeclaration":43208,"src":"2032:25:188","typeDescriptions":{"typeIdentifier":"t_struct$_Bytes32Set_$51542_storage","typeString":"struct EnumerableSet.Bytes32Set storage ref"}},"id":43323,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2058:6:188","memberName":"values","nodeType":"MemberAccess","referencedDeclaration":51645,"src":"2032:32:188","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_Bytes32Set_$51542_storage_ptr_$returns$_t_array$_t_bytes32_$dyn_memory_ptr_$attached_to$_t_struct$_Bytes32Set_$51542_storage_ptr_$","typeString":"function (struct EnumerableSet.Bytes32Set storage pointer) view returns (bytes32[] memory)"}},"id":43324,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2032:34:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"nodeType":"VariableDeclarationStatement","src":"2009:57:188"},{"assignments":[43327],"declarations":[{"constant":false,"id":43327,"mutability":"mutable","name":"len","nameLocation":"2084:3:188","nodeType":"VariableDeclaration","scope":43365,"src":"2076:11:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":43326,"name":"uint256","nodeType":"ElementaryTypeName","src":"2076:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":43330,"initialValue":{"expression":{"id":43328,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43319,"src":"2090:3:188","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"id":43329,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2094:6:188","memberName":"length","nodeType":"MemberAccess","src":"2090:10:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2076:24:188"},{"expression":{"id":43338,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43331,"name":"rules","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43313,"src":"2111:5:188","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_RuleWithId_$34033_memory_ptr_$dyn_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":43336,"name":"len","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43327,"src":"2136:3:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":43335,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2119:16:188","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_struct$_RuleWithId_$34033_memory_ptr_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (struct IRulesEngine.RuleWithId memory[] memory)"},"typeName":{"baseType":{"id":43333,"nodeType":"UserDefinedTypeName","pathNode":{"id":43332,"name":"RuleWithId","nameLocations":["2123:10:188"],"nodeType":"IdentifierPath","referencedDeclaration":34033,"src":"2123:10:188"},"referencedDeclaration":34033,"src":"2123:10:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_storage_ptr","typeString":"struct IRulesEngine.RuleWithId"}},"id":43334,"nodeType":"ArrayTypeName","src":"2123:12:188","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_RuleWithId_$34033_storage_$dyn_storage_ptr","typeString":"struct IRulesEngine.RuleWithId[]"}}},"id":43337,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2119:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_RuleWithId_$34033_memory_ptr_$dyn_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory[] memory"}},"src":"2111:29:188","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_RuleWithId_$34033_memory_ptr_$dyn_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory[] memory"}},"id":43339,"nodeType":"ExpressionStatement","src":"2111:29:188"},{"body":{"id":43363,"nodeType":"Block","src":"2188:71:188","statements":[{"expression":{"id":43361,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":43351,"name":"rules","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43313,"src":"2202:5:188","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_RuleWithId_$34033_memory_ptr_$dyn_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory[] memory"}},"id":43353,"indexExpression":{"id":43352,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43341,"src":"2208:1:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2202:8:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":43354,"name":"_rulesEngineStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43705,"src":"2213:19:188","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$43214_storage_ptr_$","typeString":"function () pure returns (struct RulesEngineStorage.Data storage pointer)"}},"id":43355,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2213:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"id":43356,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2235:5:188","memberName":"rules","nodeType":"MemberAccess","referencedDeclaration":43213,"src":"2213:27:188","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_RuleWithId_$34033_storage_$","typeString":"mapping(bytes32 => struct IRulesEngine.RuleWithId storage ref)"}},"id":43360,"indexExpression":{"baseExpression":{"id":43357,"name":"ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43319,"src":"2241:3:188","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[] memory"}},"id":43359,"indexExpression":{"id":43358,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43341,"src":"2245:1:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2241:6:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2213:35:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_storage","typeString":"struct IRulesEngine.RuleWithId storage ref"}},"src":"2202:46:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43362,"nodeType":"ExpressionStatement","src":"2202:46:188"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":43346,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":43344,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43341,"src":"2171:1:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":43345,"name":"len","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43327,"src":"2175:3:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2171:7:188","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":43364,"initializationExpression":{"assignments":[43341],"declarations":[{"constant":false,"id":43341,"mutability":"mutable","name":"i","nameLocation":"2164:1:188","nodeType":"VariableDeclaration","scope":43364,"src":"2156:9:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":43340,"name":"uint256","nodeType":"ElementaryTypeName","src":"2156:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":43343,"initialValue":{"hexValue":"30","id":43342,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2168:1:188","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"2156:13:188"},"isSimpleCounterLoop":false,"loopExpression":{"expression":{"id":43349,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43347,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43341,"src":"2180:1:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"hexValue":"31","id":43348,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2185:1:188","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"2180:6:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":43350,"nodeType":"ExpressionStatement","src":"2180:6:188"},"nodeType":"ForStatement","src":"2151:108:188"}]},"baseFunctions":[34062],"functionSelector":"1184aef2","implemented":true,"kind":"function","modifiers":[],"name":"getAllRules","nameLocation":"1935:11:188","parameters":{"id":43309,"nodeType":"ParameterList","parameters":[],"src":"1946:2:188"},"returnParameters":{"id":43314,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43313,"mutability":"mutable","name":"rules","nameLocation":"1992:5:188","nodeType":"VariableDeclaration","scope":43366,"src":"1972:25:188","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_RuleWithId_$34033_memory_ptr_$dyn_memory_ptr","typeString":"struct IRulesEngine.RuleWithId[]"},"typeName":{"baseType":{"id":43311,"nodeType":"UserDefinedTypeName","pathNode":{"id":43310,"name":"RuleWithId","nameLocations":["1972:10:188"],"nodeType":"IdentifierPath","referencedDeclaration":34033,"src":"1972:10:188"},"referencedDeclaration":34033,"src":"1972:10:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_storage_ptr","typeString":"struct IRulesEngine.RuleWithId"}},"id":43312,"nodeType":"ArrayTypeName","src":"1972:12:188","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_RuleWithId_$34033_storage_$dyn_storage_ptr","typeString":"struct IRulesEngine.RuleWithId[]"}},"visibility":"internal"}],"src":"1971:27:188"},"scope":43716,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":43378,"nodeType":"FunctionDefinition","src":"2271:162:188","nodes":[],"body":{"id":43377,"nodeType":"Block","src":"2354:79:188","nodes":[],"statements":[{"expression":{"id":43375,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43371,"name":"rulesEngineAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43369,"src":"2364:18:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":43372,"name":"_rulesEngineStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43705,"src":"2385:19:188","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$43214_storage_ptr_$","typeString":"function () pure returns (struct RulesEngineStorage.Data storage pointer)"}},"id":43373,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2385:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"id":43374,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2407:19:188","memberName":"rulesEngineOverride","nodeType":"MemberAccess","referencedDeclaration":43205,"src":"2385:41:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2364:62:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":43376,"nodeType":"ExpressionStatement","src":"2364:62:188"}]},"baseFunctions":[34067],"functionSelector":"a7145eb4","implemented":true,"kind":"function","modifiers":[],"name":"getRulesEngineOverride","nameLocation":"2280:22:188","parameters":{"id":43367,"nodeType":"ParameterList","parameters":[],"src":"2302:2:188"},"returnParameters":{"id":43370,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43369,"mutability":"mutable","name":"rulesEngineAddress","nameLocation":"2334:18:188","nodeType":"VariableDeclaration","scope":43378,"src":"2326:26:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":43368,"name":"address","nodeType":"ElementaryTypeName","src":"2326:7:188","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2325:28:188"},"scope":43716,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":43428,"nodeType":"FunctionDefinition","src":"2626:633:188","nodes":[],"body":{"id":43427,"nodeType":"Block","src":"2730:529:188","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":43387,"name":"_canSetRules","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43710,"src":"2748:12:188","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_bool_$","typeString":"function () view returns (bool)"}},"id":43388,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2748:14:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"52756c6573456e67696e653a2063616e6e6f74207365742072756c6573","id":43389,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2764:31:188","typeDescriptions":{"typeIdentifier":"t_stringliteral_9f4d1f3c378293662114667b69c52aeee1c2e3e6abb6966f99faddba5029592e","typeString":"literal_string \"RulesEngine: cannot set rules\""},"value":"RulesEngine: cannot set rules"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9f4d1f3c378293662114667b69c52aeee1c2e3e6abb6966f99faddba5029592e","typeString":"literal_string \"RulesEngine: cannot set rules\""}],"id":43386,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2740:7:188","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":43390,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2740:56:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43391,"nodeType":"ExpressionStatement","src":"2740:56:188"},{"expression":{"id":43408,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43392,"name":"ruleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43384,"src":"2807:6:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"expression":{"id":43396,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43381,"src":"2856:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeMultiplicative_$34016_memory_ptr","typeString":"struct IRulesEngine.RuleTypeMultiplicative memory"}},"id":43397,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2861:5:188","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":34008,"src":"2856:10:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":43398,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43381,"src":"2868:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeMultiplicative_$34016_memory_ptr","typeString":"struct IRulesEngine.RuleTypeMultiplicative memory"}},"id":43399,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2873:9:188","memberName":"tokenType","nodeType":"MemberAccess","referencedDeclaration":34011,"src":"2868:14:188","typeDescriptions":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"}},{"expression":{"id":43400,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43381,"src":"2884:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeMultiplicative_$34016_memory_ptr","typeString":"struct IRulesEngine.RuleTypeMultiplicative memory"}},"id":43401,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2889:7:188","memberName":"tokenId","nodeType":"MemberAccess","referencedDeclaration":34013,"src":"2884:12:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":43402,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43381,"src":"2898:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeMultiplicative_$34016_memory_ptr","typeString":"struct IRulesEngine.RuleTypeMultiplicative memory"}},"id":43403,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2903:18:188","memberName":"scorePerOwnedToken","nodeType":"MemberAccess","referencedDeclaration":34015,"src":"2898:23:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":43404,"name":"RuleType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33994,"src":"2923:8:188","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RuleType_$33994_$","typeString":"type(enum IRulesEngine.RuleType)"}},"id":43405,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2932:14:188","memberName":"Multiplicative","nodeType":"MemberAccess","referencedDeclaration":33993,"src":"2923:23:188","typeDescriptions":{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}],"expression":{"id":43394,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2839:3:188","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":43395,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2843:12:188","memberName":"encodePacked","nodeType":"MemberAccess","src":"2839:16:188","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":43406,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2839:108:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":43393,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"2816:9:188","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":43407,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2816:141:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"2807:150:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":43409,"nodeType":"ExpressionStatement","src":"2807:150:188"},{"expression":{"arguments":[{"arguments":[{"id":43412,"name":"ruleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43384,"src":"3020:6:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"expression":{"id":43413,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43381,"src":"3044:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeMultiplicative_$34016_memory_ptr","typeString":"struct IRulesEngine.RuleTypeMultiplicative memory"}},"id":43414,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3049:5:188","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":34008,"src":"3044:10:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":43415,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43381,"src":"3072:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeMultiplicative_$34016_memory_ptr","typeString":"struct IRulesEngine.RuleTypeMultiplicative memory"}},"id":43416,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3077:9:188","memberName":"tokenType","nodeType":"MemberAccess","referencedDeclaration":34011,"src":"3072:14:188","typeDescriptions":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"}},{"expression":{"id":43417,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43381,"src":"3104:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeMultiplicative_$34016_memory_ptr","typeString":"struct IRulesEngine.RuleTypeMultiplicative memory"}},"id":43418,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3109:7:188","memberName":"tokenId","nodeType":"MemberAccess","referencedDeclaration":34013,"src":"3104:12:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"30","id":43419,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3134:1:188","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"expression":{"id":43420,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43381,"src":"3164:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeMultiplicative_$34016_memory_ptr","typeString":"struct IRulesEngine.RuleTypeMultiplicative memory"}},"id":43421,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3169:18:188","memberName":"scorePerOwnedToken","nodeType":"MemberAccess","referencedDeclaration":34015,"src":"3164:23:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":43422,"name":"RuleType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33994,"src":"3205:8:188","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RuleType_$33994_$","typeString":"type(enum IRulesEngine.RuleType)"}},"id":43423,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3214:14:188","memberName":"Multiplicative","nodeType":"MemberAccess","referencedDeclaration":33993,"src":"3205:23:188","typeDescriptions":{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}],"id":43411,"name":"RuleWithId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34033,"src":"2992:10:188","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_RuleWithId_$34033_storage_ptr_$","typeString":"type(struct IRulesEngine.RuleWithId storage pointer)"}},"id":43424,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2992:250:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}],"id":43410,"name":"_createRule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43643,"src":"2967:11:188","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_RuleWithId_$34033_memory_ptr_$returns$__$","typeString":"function (struct IRulesEngine.RuleWithId memory)"}},"id":43425,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2967:285:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43426,"nodeType":"ExpressionStatement","src":"2967:285:188"}]},"baseFunctions":[34075],"functionSelector":"1e2e9cb5","implemented":true,"kind":"function","modifiers":[],"name":"createRuleMultiplicative","nameLocation":"2635:24:188","parameters":{"id":43382,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43381,"mutability":"mutable","name":"rule","nameLocation":"2690:4:188","nodeType":"VariableDeclaration","scope":43428,"src":"2660:34:188","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeMultiplicative_$34016_memory_ptr","typeString":"struct IRulesEngine.RuleTypeMultiplicative"},"typeName":{"id":43380,"nodeType":"UserDefinedTypeName","pathNode":{"id":43379,"name":"RuleTypeMultiplicative","nameLocations":["2660:22:188"],"nodeType":"IdentifierPath","referencedDeclaration":34016,"src":"2660:22:188"},"referencedDeclaration":34016,"src":"2660:22:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeMultiplicative_$34016_storage_ptr","typeString":"struct IRulesEngine.RuleTypeMultiplicative"}},"visibility":"internal"}],"src":"2659:36:188"},"returnParameters":{"id":43385,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43384,"mutability":"mutable","name":"ruleId","nameLocation":"2722:6:188","nodeType":"VariableDeclaration","scope":43428,"src":"2714:14:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":43383,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2714:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2713:16:188"},"scope":43716,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":43481,"nodeType":"FunctionDefinition","src":"3265:475:188","nodes":[],"body":{"id":43480,"nodeType":"Block","src":"3359:381:188","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":43437,"name":"_canSetRules","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43710,"src":"3377:12:188","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_bool_$","typeString":"function () view returns (bool)"}},"id":43438,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3377:14:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"52756c6573456e67696e653a2063616e6e6f74207365742072756c6573","id":43439,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3393:31:188","typeDescriptions":{"typeIdentifier":"t_stringliteral_9f4d1f3c378293662114667b69c52aeee1c2e3e6abb6966f99faddba5029592e","typeString":"literal_string \"RulesEngine: cannot set rules\""},"value":"RulesEngine: cannot set rules"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9f4d1f3c378293662114667b69c52aeee1c2e3e6abb6966f99faddba5029592e","typeString":"literal_string \"RulesEngine: cannot set rules\""}],"id":43436,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3369:7:188","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":43440,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3369:56:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43441,"nodeType":"ExpressionStatement","src":"3369:56:188"},{"expression":{"id":43460,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43442,"name":"ruleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43434,"src":"3436:6:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"expression":{"id":43446,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43431,"src":"3485:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_memory_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold memory"}},"id":43447,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3490:5:188","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":33996,"src":"3485:10:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":43448,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43431,"src":"3497:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_memory_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold memory"}},"id":43449,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3502:9:188","memberName":"tokenType","nodeType":"MemberAccess","referencedDeclaration":33999,"src":"3497:14:188","typeDescriptions":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"}},{"expression":{"id":43450,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43431,"src":"3513:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_memory_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold memory"}},"id":43451,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3518:7:188","memberName":"tokenId","nodeType":"MemberAccess","referencedDeclaration":34001,"src":"3513:12:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":43452,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43431,"src":"3527:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_memory_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold memory"}},"id":43453,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3532:7:188","memberName":"balance","nodeType":"MemberAccess","referencedDeclaration":34003,"src":"3527:12:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":43454,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43431,"src":"3541:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_memory_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold memory"}},"id":43455,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3546:5:188","memberName":"score","nodeType":"MemberAccess","referencedDeclaration":34005,"src":"3541:10:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":43456,"name":"RuleType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33994,"src":"3553:8:188","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RuleType_$33994_$","typeString":"type(enum IRulesEngine.RuleType)"}},"id":43457,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3562:9:188","memberName":"Threshold","nodeType":"MemberAccess","referencedDeclaration":33992,"src":"3553:18:188","typeDescriptions":{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}],"expression":{"id":43444,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"3468:3:188","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":43445,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3472:12:188","memberName":"encodePacked","nodeType":"MemberAccess","src":"3468:16:188","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":43458,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3468:104:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":43443,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"3445:9:188","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":43459,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3445:137:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3436:146:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":43461,"nodeType":"ExpressionStatement","src":"3436:146:188"},{"expression":{"arguments":[{"arguments":[{"id":43464,"name":"ruleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43434,"src":"3628:6:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"expression":{"id":43465,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43431,"src":"3636:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_memory_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold memory"}},"id":43466,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3641:5:188","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":33996,"src":"3636:10:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":43467,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43431,"src":"3648:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_memory_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold memory"}},"id":43468,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3653:9:188","memberName":"tokenType","nodeType":"MemberAccess","referencedDeclaration":33999,"src":"3648:14:188","typeDescriptions":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"}},{"expression":{"id":43469,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43431,"src":"3664:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_memory_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold memory"}},"id":43470,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3669:7:188","memberName":"tokenId","nodeType":"MemberAccess","referencedDeclaration":34001,"src":"3664:12:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":43471,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43431,"src":"3678:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_memory_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold memory"}},"id":43472,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3683:7:188","memberName":"balance","nodeType":"MemberAccess","referencedDeclaration":34003,"src":"3678:12:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":43473,"name":"rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43431,"src":"3692:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_memory_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold memory"}},"id":43474,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3697:5:188","memberName":"score","nodeType":"MemberAccess","referencedDeclaration":34005,"src":"3692:10:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":43475,"name":"RuleType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33994,"src":"3704:8:188","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RuleType_$33994_$","typeString":"type(enum IRulesEngine.RuleType)"}},"id":43476,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3713:9:188","memberName":"Threshold","nodeType":"MemberAccess","referencedDeclaration":33992,"src":"3704:18:188","typeDescriptions":{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}],"id":43463,"name":"RuleWithId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34033,"src":"3617:10:188","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_RuleWithId_$34033_storage_ptr_$","typeString":"type(struct IRulesEngine.RuleWithId storage pointer)"}},"id":43477,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3617:106:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}],"id":43462,"name":"_createRule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43643,"src":"3592:11:188","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_RuleWithId_$34033_memory_ptr_$returns$__$","typeString":"function (struct IRulesEngine.RuleWithId memory)"}},"id":43478,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3592:141:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43479,"nodeType":"ExpressionStatement","src":"3592:141:188"}]},"baseFunctions":[34083],"functionSelector":"1022a25e","implemented":true,"kind":"function","modifiers":[],"name":"createRuleThreshold","nameLocation":"3274:19:188","parameters":{"id":43432,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43431,"mutability":"mutable","name":"rule","nameLocation":"3319:4:188","nodeType":"VariableDeclaration","scope":43481,"src":"3294:29:188","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_memory_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold"},"typeName":{"id":43430,"nodeType":"UserDefinedTypeName","pathNode":{"id":43429,"name":"RuleTypeThreshold","nameLocations":["3294:17:188"],"nodeType":"IdentifierPath","referencedDeclaration":34006,"src":"3294:17:188"},"referencedDeclaration":34006,"src":"3294:17:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleTypeThreshold_$34006_storage_ptr","typeString":"struct IRulesEngine.RuleTypeThreshold"}},"visibility":"internal"}],"src":"3293:31:188"},"returnParameters":{"id":43435,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43434,"mutability":"mutable","name":"ruleId","nameLocation":"3351:6:188","nodeType":"VariableDeclaration","scope":43481,"src":"3343:14:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":43433,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3343:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"3342:16:188"},"scope":43716,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":43497,"nodeType":"FunctionDefinition","src":"3746:149:188","nodes":[],"body":{"id":43496,"nodeType":"Block","src":"3792:103:188","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":43487,"name":"_canSetRules","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43710,"src":"3810:12:188","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_bool_$","typeString":"function () view returns (bool)"}},"id":43488,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3810:14:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"52756c6573456e67696e653a2063616e6e6f74207365742072756c6573","id":43489,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3826:31:188","typeDescriptions":{"typeIdentifier":"t_stringliteral_9f4d1f3c378293662114667b69c52aeee1c2e3e6abb6966f99faddba5029592e","typeString":"literal_string \"RulesEngine: cannot set rules\""},"value":"RulesEngine: cannot set rules"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9f4d1f3c378293662114667b69c52aeee1c2e3e6abb6966f99faddba5029592e","typeString":"literal_string \"RulesEngine: cannot set rules\""}],"id":43486,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3802:7:188","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":43490,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3802:56:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43491,"nodeType":"ExpressionStatement","src":"3802:56:188"},{"expression":{"arguments":[{"id":43493,"name":"_ruleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43483,"src":"3880:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":43492,"name":"_deleteRule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43670,"src":"3868:11:188","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes32_$returns$__$","typeString":"function (bytes32)"}},"id":43494,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3868:20:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43495,"nodeType":"ExpressionStatement","src":"3868:20:188"}]},"baseFunctions":[34088],"functionSelector":"9d907761","implemented":true,"kind":"function","modifiers":[],"name":"deleteRule","nameLocation":"3755:10:188","parameters":{"id":43484,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43483,"mutability":"mutable","name":"_ruleId","nameLocation":"3774:7:188","nodeType":"VariableDeclaration","scope":43497,"src":"3766:15:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":43482,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3766:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"3765:17:188"},"returnParameters":{"id":43485,"nodeType":"ParameterList","parameters":[],"src":"3792:0:188"},"scope":43716,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":43610,"nodeType":"FunctionDefinition","src":"4088:971:188","nodes":[],"body":{"id":43609,"nodeType":"Block","src":"4198:861:188","nodes":[],"statements":[{"assignments":[43508],"declarations":[{"constant":false,"id":43508,"mutability":"mutable","name":"balance","nameLocation":"4216:7:188","nodeType":"VariableDeclaration","scope":43609,"src":"4208:15:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":43507,"name":"uint256","nodeType":"ElementaryTypeName","src":"4208:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":43510,"initialValue":{"hexValue":"30","id":43509,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4226:1:188","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4208:19:188"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"},"id":43515,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":43511,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4242:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43512,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4248:9:188","memberName":"tokenType","nodeType":"MemberAccess","referencedDeclaration":34023,"src":"4242:15:188","typeDescriptions":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":43513,"name":"TokenType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33991,"src":"4261:9:188","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_TokenType_$33991_$","typeString":"type(enum IRulesEngine.TokenType)"}},"id":43514,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4271:5:188","memberName":"ERC20","nodeType":"MemberAccess","referencedDeclaration":33988,"src":"4261:15:188","typeDescriptions":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"}},"src":"4242:34:188","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"},"id":43544,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":43540,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4531:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43541,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4537:9:188","memberName":"tokenType","nodeType":"MemberAccess","referencedDeclaration":34023,"src":"4531:15:188","typeDescriptions":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":43542,"name":"TokenType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33991,"src":"4550:9:188","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_TokenType_$33991_$","typeString":"type(enum IRulesEngine.TokenType)"}},"id":43543,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4560:6:188","memberName":"ERC721","nodeType":"MemberAccess","referencedDeclaration":33989,"src":"4550:16:188","typeDescriptions":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"}},"src":"4531:35:188","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"},"id":43560,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":43556,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4656:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43557,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4662:9:188","memberName":"tokenType","nodeType":"MemberAccess","referencedDeclaration":34023,"src":"4656:15:188","typeDescriptions":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":43558,"name":"TokenType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33991,"src":"4675:9:188","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_TokenType_$33991_$","typeString":"type(enum IRulesEngine.TokenType)"}},"id":43559,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4685:7:188","memberName":"ERC1155","nodeType":"MemberAccess","referencedDeclaration":33990,"src":"4675:17:188","typeDescriptions":{"typeIdentifier":"t_enum$_TokenType_$33991","typeString":"enum IRulesEngine.TokenType"}},"src":"4656:36:188","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":43574,"nodeType":"IfStatement","src":"4652:136:188","trueBody":{"id":43573,"nodeType":"Block","src":"4694:94:188","statements":[{"expression":{"id":43571,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43561,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43508,"src":"4708:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":43567,"name":"_tokenOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43499,"src":"4750:11:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":43568,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4763:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43569,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4769:7:188","memberName":"tokenId","nodeType":"MemberAccess","referencedDeclaration":34025,"src":"4763:13:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"expression":{"id":43563,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4727:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43564,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4733:5:188","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":34020,"src":"4727:11:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":43562,"name":"IERC1155","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13751,"src":"4718:8:188","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC1155_$13751_$","typeString":"type(contract IERC1155)"}},"id":43565,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4718:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$13751","typeString":"contract IERC1155"}},"id":43566,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4740:9:188","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":13719,"src":"4718:31:188","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":43570,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4718:59:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4708:69:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":43572,"nodeType":"ExpressionStatement","src":"4708:69:188"}]}},"id":43575,"nodeType":"IfStatement","src":"4527:261:188","trueBody":{"id":43555,"nodeType":"Block","src":"4568:78:188","statements":[{"expression":{"id":43553,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43545,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43508,"src":"4582:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":43551,"name":"_tokenOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43499,"src":"4623:11:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"expression":{"id":43547,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4600:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43548,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4606:5:188","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":34020,"src":"4600:11:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":43546,"name":"IERC721","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14114,"src":"4592:7:188","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC721_$14114_$","typeString":"type(contract IERC721)"}},"id":43549,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4592:20:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC721_$14114","typeString":"contract IERC721"}},"id":43550,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4613:9:188","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":14039,"src":"4592:30:188","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":43552,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4592:43:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4582:53:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":43554,"nodeType":"ExpressionStatement","src":"4582:53:188"}]}},"id":43576,"nodeType":"IfStatement","src":"4238:550:188","trueBody":{"id":43539,"nodeType":"Block","src":"4278:243:188","statements":[{"assignments":[43517],"declarations":[{"constant":false,"id":43517,"mutability":"mutable","name":"unit","nameLocation":"4386:4:188","nodeType":"VariableDeclaration","scope":43539,"src":"4378:12:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":43516,"name":"uint256","nodeType":"ElementaryTypeName","src":"4378:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":43526,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":43525,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3130","id":43518,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4393:2:188","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"expression":{"id":43520,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4414:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43521,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4420:5:188","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":34020,"src":"4414:11:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":43519,"name":"IERC20Metadata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13927,"src":"4399:14:188","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20Metadata_$13927_$","typeString":"type(contract IERC20Metadata)"}},"id":43522,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4399:27:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20Metadata_$13927","typeString":"contract IERC20Metadata"}},"id":43523,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4427:8:188","memberName":"decimals","nodeType":"MemberAccess","referencedDeclaration":13926,"src":"4399:36:188","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint8_$","typeString":"function () view external returns (uint8)"}},"id":43524,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4399:38:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"4393:44:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4378:59:188"},{"expression":{"id":43537,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43527,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43508,"src":"4451:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":43536,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":43533,"name":"_tokenOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43499,"src":"4491:11:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"expression":{"id":43529,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4468:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43530,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4474:5:188","memberName":"token","nodeType":"MemberAccess","referencedDeclaration":34020,"src":"4468:11:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":43528,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":13908,"src":"4461:6:188","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$13908_$","typeString":"type(contract IERC20)"}},"id":43531,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4461:19:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$13908","typeString":"contract IERC20"}},"id":43532,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4481:9:188","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":13853,"src":"4461:29:188","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":43534,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4461:42:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":43535,"name":"unit","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43517,"src":"4506:4:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4461:49:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4451:59:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":43538,"nodeType":"ExpressionStatement","src":"4451:59:188"}]}},{"condition":{"commonType":{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"},"id":43581,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":43577,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4802:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43578,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4808:8:188","memberName":"ruleType","nodeType":"MemberAccess","referencedDeclaration":34032,"src":"4802:14:188","typeDescriptions":{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":43579,"name":"RuleType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33994,"src":"4820:8:188","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RuleType_$33994_$","typeString":"type(enum IRulesEngine.RuleType)"}},"id":43580,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4829:9:188","memberName":"Threshold","nodeType":"MemberAccess","referencedDeclaration":33992,"src":"4820:18:188","typeDescriptions":{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}},"src":"4802:36:188","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"},"id":43598,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":43594,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4956:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43595,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4962:8:188","memberName":"ruleType","nodeType":"MemberAccess","referencedDeclaration":34032,"src":"4956:14:188","typeDescriptions":{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":43596,"name":"RuleType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":33994,"src":"4974:8:188","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_RuleType_$33994_$","typeString":"type(enum IRulesEngine.RuleType)"}},"id":43597,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4983:14:188","memberName":"Multiplicative","nodeType":"MemberAccess","referencedDeclaration":33993,"src":"4974:23:188","typeDescriptions":{"typeIdentifier":"t_enum$_RuleType_$33994","typeString":"enum IRulesEngine.RuleType"}},"src":"4956:41:188","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":43607,"nodeType":"IfStatement","src":"4952:101:188","trueBody":{"id":43606,"nodeType":"Block","src":"4999:54:188","statements":[{"expression":{"id":43604,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43599,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43505,"src":"5013:5:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":43603,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":43600,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43508,"src":"5021:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":43601,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"5031:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43602,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5037:5:188","memberName":"score","nodeType":"MemberAccess","referencedDeclaration":34029,"src":"5031:11:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5021:21:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5013:29:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":43605,"nodeType":"ExpressionStatement","src":"5013:29:188"}]}},"id":43608,"nodeType":"IfStatement","src":"4798:255:188","trueBody":{"id":43593,"nodeType":"Block","src":"4840:106:188","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":43585,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":43582,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43508,"src":"4858:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"expression":{"id":43583,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4869:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43584,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4875:7:188","memberName":"balance","nodeType":"MemberAccess","referencedDeclaration":34027,"src":"4869:13:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4858:24:188","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":43592,"nodeType":"IfStatement","src":"4854:82:188","trueBody":{"id":43591,"nodeType":"Block","src":"4884:52:188","statements":[{"expression":{"id":43589,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43586,"name":"score","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43505,"src":"4902:5:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":43587,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43502,"src":"4910:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43588,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4916:5:188","memberName":"score","nodeType":"MemberAccess","referencedDeclaration":34029,"src":"4910:11:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4902:19:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":43590,"nodeType":"ExpressionStatement","src":"4902:19:188"}]}}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"_getScoreForRule","nameLocation":"4097:16:188","parameters":{"id":43503,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43499,"mutability":"mutable","name":"_tokenOwner","nameLocation":"4122:11:188","nodeType":"VariableDeclaration","scope":43610,"src":"4114:19:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":43498,"name":"address","nodeType":"ElementaryTypeName","src":"4114:7:188","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":43502,"mutability":"mutable","name":"_rule","nameLocation":"4153:5:188","nodeType":"VariableDeclaration","scope":43610,"src":"4135:23:188","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId"},"typeName":{"id":43501,"nodeType":"UserDefinedTypeName","pathNode":{"id":43500,"name":"RuleWithId","nameLocations":["4135:10:188"],"nodeType":"IdentifierPath","referencedDeclaration":34033,"src":"4135:10:188"},"referencedDeclaration":34033,"src":"4135:10:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_storage_ptr","typeString":"struct IRulesEngine.RuleWithId"}},"visibility":"internal"}],"src":"4113:46:188"},"returnParameters":{"id":43506,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43505,"mutability":"mutable","name":"score","nameLocation":"4191:5:188","nodeType":"VariableDeclaration","scope":43610,"src":"4183:13:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":43504,"name":"uint256","nodeType":"ElementaryTypeName","src":"4183:7:188","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4182:15:188"},"scope":43716,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":43643,"nodeType":"FunctionDefinition","src":"5065:266:188","nodes":[],"body":{"id":43642,"nodeType":"Block","src":"5120:211:188","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"expression":{"id":43621,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43613,"src":"5168:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43622,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5174:6:188","memberName":"ruleId","nodeType":"MemberAccess","referencedDeclaration":34018,"src":"5168:12:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":43617,"name":"_rulesEngineStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43705,"src":"5138:19:188","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$43214_storage_ptr_$","typeString":"function () pure returns (struct RulesEngineStorage.Data storage pointer)"}},"id":43618,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5138:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"id":43619,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5160:3:188","memberName":"ids","nodeType":"MemberAccess","referencedDeclaration":43208,"src":"5138:25:188","typeDescriptions":{"typeIdentifier":"t_struct$_Bytes32Set_$51542_storage","typeString":"struct EnumerableSet.Bytes32Set storage ref"}},"id":43620,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5164:3:188","memberName":"add","nodeType":"MemberAccess","referencedDeclaration":51560,"src":"5138:29:188","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_Bytes32Set_$51542_storage_ptr_$_t_bytes32_$returns$_t_bool_$attached_to$_t_struct$_Bytes32Set_$51542_storage_ptr_$","typeString":"function (struct EnumerableSet.Bytes32Set storage pointer,bytes32) returns (bool)"}},"id":43623,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5138:43:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"52756c6573456e67696e653a2072756c6520616c726561647920657869737473","id":43624,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5183:34:188","typeDescriptions":{"typeIdentifier":"t_stringliteral_9b28329e5988c6913a805257a97be0355648c8002d2382083694b6ef9411bd14","typeString":"literal_string \"RulesEngine: rule already exists\""},"value":"RulesEngine: rule already exists"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9b28329e5988c6913a805257a97be0355648c8002d2382083694b6ef9411bd14","typeString":"literal_string \"RulesEngine: rule already exists\""}],"id":43616,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5130:7:188","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":43625,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5130:88:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43626,"nodeType":"ExpressionStatement","src":"5130:88:188"},{"expression":{"id":43634,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":43627,"name":"_rulesEngineStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43705,"src":"5228:19:188","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$43214_storage_ptr_$","typeString":"function () pure returns (struct RulesEngineStorage.Data storage pointer)"}},"id":43628,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5228:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"id":43629,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5250:5:188","memberName":"rules","nodeType":"MemberAccess","referencedDeclaration":43213,"src":"5228:27:188","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_RuleWithId_$34033_storage_$","typeString":"mapping(bytes32 => struct IRulesEngine.RuleWithId storage ref)"}},"id":43632,"indexExpression":{"expression":{"id":43630,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43613,"src":"5256:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43631,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5262:6:188","memberName":"ruleId","nodeType":"MemberAccess","referencedDeclaration":34018,"src":"5256:12:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5228:41:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_storage","typeString":"struct IRulesEngine.RuleWithId storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":43633,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43613,"src":"5272:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"src":"5228:49:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_storage","typeString":"struct IRulesEngine.RuleWithId storage ref"}},"id":43635,"nodeType":"ExpressionStatement","src":"5228:49:188"},{"eventCall":{"arguments":[{"expression":{"id":43637,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43613,"src":"5304:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}},"id":43638,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5310:6:188","memberName":"ruleId","nodeType":"MemberAccess","referencedDeclaration":34018,"src":"5304:12:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":43639,"name":"_rule","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43613,"src":"5318:5:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId memory"}],"id":43636,"name":"RuleCreated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34040,"src":"5292:11:188","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bytes32_$_t_struct$_RuleWithId_$34033_memory_ptr_$returns$__$","typeString":"function (bytes32,struct IRulesEngine.RuleWithId memory)"}},"id":43640,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5292:32:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43641,"nodeType":"EmitStatement","src":"5287:37:188"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_createRule","nameLocation":"5074:11:188","parameters":{"id":43614,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43613,"mutability":"mutable","name":"_rule","nameLocation":"5104:5:188","nodeType":"VariableDeclaration","scope":43643,"src":"5086:23:188","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_memory_ptr","typeString":"struct IRulesEngine.RuleWithId"},"typeName":{"id":43612,"nodeType":"UserDefinedTypeName","pathNode":{"id":43611,"name":"RuleWithId","nameLocations":["5086:10:188"],"nodeType":"IdentifierPath","referencedDeclaration":34033,"src":"5086:10:188"},"referencedDeclaration":34033,"src":"5086:10:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_storage_ptr","typeString":"struct IRulesEngine.RuleWithId"}},"visibility":"internal"}],"src":"5085:25:188"},"returnParameters":{"id":43615,"nodeType":"ParameterList","parameters":[],"src":"5120:0:188"},"scope":43716,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":43670,"nodeType":"FunctionDefinition","src":"5337:238:188","nodes":[],"body":{"id":43669,"nodeType":"Block","src":"5384:191:188","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"id":43653,"name":"_ruleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43645,"src":"5435:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":43649,"name":"_rulesEngineStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43705,"src":"5402:19:188","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$43214_storage_ptr_$","typeString":"function () pure returns (struct RulesEngineStorage.Data storage pointer)"}},"id":43650,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5402:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"id":43651,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5424:3:188","memberName":"ids","nodeType":"MemberAccess","referencedDeclaration":43208,"src":"5402:25:188","typeDescriptions":{"typeIdentifier":"t_struct$_Bytes32Set_$51542_storage","typeString":"struct EnumerableSet.Bytes32Set storage ref"}},"id":43652,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5428:6:188","memberName":"remove","nodeType":"MemberAccess","referencedDeclaration":51578,"src":"5402:32:188","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_Bytes32Set_$51542_storage_ptr_$_t_bytes32_$returns$_t_bool_$attached_to$_t_struct$_Bytes32Set_$51542_storage_ptr_$","typeString":"function (struct EnumerableSet.Bytes32Set storage pointer,bytes32) returns (bool)"}},"id":43654,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5402:41:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"52756c6573456e67696e653a2072756c6520616c726561647920657869737473","id":43655,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5445:34:188","typeDescriptions":{"typeIdentifier":"t_stringliteral_9b28329e5988c6913a805257a97be0355648c8002d2382083694b6ef9411bd14","typeString":"literal_string \"RulesEngine: rule already exists\""},"value":"RulesEngine: rule already exists"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9b28329e5988c6913a805257a97be0355648c8002d2382083694b6ef9411bd14","typeString":"literal_string \"RulesEngine: rule already exists\""}],"id":43648,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5394:7:188","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":43656,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5394:86:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43657,"nodeType":"ExpressionStatement","src":"5394:86:188"},{"expression":{"id":43663,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"5490:43:188","subExpression":{"baseExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":43658,"name":"_rulesEngineStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43705,"src":"5497:19:188","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$43214_storage_ptr_$","typeString":"function () pure returns (struct RulesEngineStorage.Data storage pointer)"}},"id":43659,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5497:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"id":43660,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5519:5:188","memberName":"rules","nodeType":"MemberAccess","referencedDeclaration":43213,"src":"5497:27:188","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_RuleWithId_$34033_storage_$","typeString":"mapping(bytes32 => struct IRulesEngine.RuleWithId storage ref)"}},"id":43662,"indexExpression":{"id":43661,"name":"_ruleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43645,"src":"5525:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5497:36:188","typeDescriptions":{"typeIdentifier":"t_struct$_RuleWithId_$34033_storage","typeString":"struct IRulesEngine.RuleWithId storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43664,"nodeType":"ExpressionStatement","src":"5490:43:188"},{"eventCall":{"arguments":[{"id":43666,"name":"_ruleId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43645,"src":"5560:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":43665,"name":"RuleDeleted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34044,"src":"5548:11:188","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bytes32_$returns$__$","typeString":"function (bytes32)"}},"id":43667,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5548:20:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43668,"nodeType":"EmitStatement","src":"5543:25:188"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_deleteRule","nameLocation":"5346:11:188","parameters":{"id":43646,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43645,"mutability":"mutable","name":"_ruleId","nameLocation":"5366:7:188","nodeType":"VariableDeclaration","scope":43670,"src":"5358:15:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":43644,"name":"bytes32","nodeType":"ElementaryTypeName","src":"5358:7:188","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"5357:17:188"},"returnParameters":{"id":43647,"nodeType":"ParameterList","parameters":[],"src":"5384:0:188"},"scope":43716,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":43692,"nodeType":"FunctionDefinition","src":"5581:296:188","nodes":[],"body":{"id":43691,"nodeType":"Block","src":"5651:226:188","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"id":43676,"name":"_canOverrideRulesEngine","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43715,"src":"5669:23:188","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_bool_$","typeString":"function () view returns (bool)"}},"id":43677,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5669:25:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"52756c6573456e67696e653a2063616e6e6f74206f766572726964652072756c657320656e67696e65","id":43678,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5696:43:188","typeDescriptions":{"typeIdentifier":"t_stringliteral_05e35faf48f00bcaa1fcfe70dcfefd6247a76166f6866862b975bfcdaf7895c1","typeString":"literal_string \"RulesEngine: cannot override rules engine\""},"value":"RulesEngine: cannot override rules engine"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_05e35faf48f00bcaa1fcfe70dcfefd6247a76166f6866862b975bfcdaf7895c1","typeString":"literal_string \"RulesEngine: cannot override rules engine\""}],"id":43675,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5661:7:188","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":43679,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5661:79:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43680,"nodeType":"ExpressionStatement","src":"5661:79:188"},{"expression":{"id":43685,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":43681,"name":"_rulesEngineStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43705,"src":"5750:19:188","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$43214_storage_ptr_$","typeString":"function () pure returns (struct RulesEngineStorage.Data storage pointer)"}},"id":43682,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5750:21:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"id":43683,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"5772:19:188","memberName":"rulesEngineOverride","nodeType":"MemberAccess","referencedDeclaration":43205,"src":"5750:41:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":43684,"name":"_rulesEngineAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43672,"src":"5794:19:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5750:63:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":43686,"nodeType":"ExpressionStatement","src":"5750:63:188"},{"eventCall":{"arguments":[{"id":43688,"name":"_rulesEngineAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43672,"src":"5850:19:188","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":43687,"name":"RulesEngineOverriden","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34048,"src":"5829:20:188","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":43689,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5829:41:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":43690,"nodeType":"EmitStatement","src":"5824:46:188"}]},"baseFunctions":[34093],"functionSelector":"0eb0adb6","implemented":true,"kind":"function","modifiers":[],"name":"setRulesEngineOverride","nameLocation":"5590:22:188","parameters":{"id":43673,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43672,"mutability":"mutable","name":"_rulesEngineAddress","nameLocation":"5621:19:188","nodeType":"VariableDeclaration","scope":43692,"src":"5613:27:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":43671,"name":"address","nodeType":"ElementaryTypeName","src":"5613:7:188","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5612:29:188"},"returnParameters":{"id":43674,"nodeType":"ParameterList","parameters":[],"src":"5651:0:188"},"scope":43716,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":43705,"nodeType":"FunctionDefinition","src":"5883:141:188","nodes":[],"body":{"id":43704,"nodeType":"Block","src":"5975:49:188","nodes":[],"statements":[{"expression":{"id":43702,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":43698,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43696,"src":"5985:4:188","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":43699,"name":"RulesEngineStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":43227,"src":"5992:18:188","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_RulesEngineStorage_$43227_$","typeString":"type(library RulesEngineStorage)"}},"id":43700,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6011:4:188","memberName":"data","nodeType":"MemberAccess","referencedDeclaration":43226,"src":"5992:23:188","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_Data_$43214_storage_ptr_$","typeString":"function () pure returns (struct RulesEngineStorage.Data storage pointer)"}},"id":43701,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5992:25:188","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"src":"5985:32:188","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data storage pointer"}},"id":43703,"nodeType":"ExpressionStatement","src":"5985:32:188"}]},"implemented":true,"kind":"function","modifiers":[],"name":"_rulesEngineStorage","nameLocation":"5892:19:188","parameters":{"id":43693,"nodeType":"ParameterList","parameters":[],"src":"5911:2:188"},"returnParameters":{"id":43697,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43696,"mutability":"mutable","name":"data","nameLocation":"5969:4:188","nodeType":"VariableDeclaration","scope":43705,"src":"5937:36:188","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data"},"typeName":{"id":43695,"nodeType":"UserDefinedTypeName","pathNode":{"id":43694,"name":"RulesEngineStorage.Data","nameLocations":["5937:18:188","5956:4:188"],"nodeType":"IdentifierPath","referencedDeclaration":43214,"src":"5937:23:188"},"referencedDeclaration":43214,"src":"5937:23:188","typeDescriptions":{"typeIdentifier":"t_struct$_Data_$43214_storage_ptr","typeString":"struct RulesEngineStorage.Data"}},"visibility":"internal"}],"src":"5936:38:188"},"scope":43716,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":43710,"nodeType":"FunctionDefinition","src":"6030:61:188","nodes":[],"implemented":false,"kind":"function","modifiers":[],"name":"_canSetRules","nameLocation":"6039:12:188","parameters":{"id":43706,"nodeType":"ParameterList","parameters":[],"src":"6051:2:188"},"returnParameters":{"id":43709,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43708,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":43710,"src":"6085:4:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":43707,"name":"bool","nodeType":"ElementaryTypeName","src":"6085:4:188","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"6084:6:188"},"scope":43716,"stateMutability":"view","virtual":true,"visibility":"internal"},{"id":43715,"nodeType":"FunctionDefinition","src":"6097:72:188","nodes":[],"implemented":false,"kind":"function","modifiers":[],"name":"_canOverrideRulesEngine","nameLocation":"6106:23:188","parameters":{"id":43711,"nodeType":"ParameterList","parameters":[],"src":"6129:2:188"},"returnParameters":{"id":43714,"nodeType":"ParameterList","parameters":[{"constant":false,"id":43713,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":43715,"src":"6163:4:188","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":43712,"name":"bool","nodeType":"ElementaryTypeName","src":"6163:4:188","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"6162:6:188"},"scope":43716,"stateMutability":"view","virtual":true,"visibility":"internal"}],"abstract":true,"baseContracts":[{"baseName":{"id":43228,"name":"IRulesEngine","nameLocations":["1105:12:188"],"nodeType":"IdentifierPath","referencedDeclaration":34094,"src":"1105:12:188"},"id":43229,"nodeType":"InheritanceSpecifier","src":"1105:12:188"}],"canonicalName":"RulesEngine","contractDependencies":[],"contractKind":"contract","fullyImplemented":false,"linearizedBaseContracts":[43716,34094],"name":"RulesEngine","nameLocation":"1090:11:188","scope":43717,"usedErrors":[],"usedEvents":[34040,34044,34048]}],"license":"Apache-2.0"},"id":188}