{"abi":[{"type":"function","name":"getFlatPlatformFeeInfo","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPlatformFeeInfo","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"},{"name":"","type":"uint16","internalType":"uint16"}],"stateMutability":"view"},{"type":"function","name":"getPlatformFeeType","inputs":[],"outputs":[{"name":"","type":"uint8","internalType":"enum IPlatformFee.PlatformFeeType"}],"stateMutability":"view"},{"type":"function","name":"setFlatPlatformFeeInfo","inputs":[{"name":"_platformFeeRecipient","type":"address","internalType":"address"},{"name":"_flatFee","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setPlatformFeeInfo","inputs":[{"name":"_platformFeeRecipient","type":"address","internalType":"address"},{"name":"_platformFeeBps","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setPlatformFeeType","inputs":[{"name":"_feeType","type":"uint8","internalType":"enum IPlatformFee.PlatformFeeType"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"FlatPlatformFeeUpdated","inputs":[{"name":"platformFeeRecipient","type":"address","indexed":false,"internalType":"address"},{"name":"flatFee","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PlatformFeeInfoUpdated","inputs":[{"name":"platformFeeRecipient","type":"address","indexed":true,"internalType":"address"},{"name":"platformFeeBps","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PlatformFeeTypeUpdated","inputs":[{"name":"feeType","type":"uint8","indexed":false,"internalType":"enum IPlatformFee.PlatformFeeType"}],"anonymous":false}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"getFlatPlatformFeeInfo()":"e57553da","getPlatformFeeInfo()":"d45573f6","getPlatformFeeType()":"f28083c3","setFlatPlatformFeeInfo(address,uint256)":"7e54523c","setPlatformFeeInfo(address,uint256)":"1e7ac488","setPlatformFeeType(uint8)":"b6f10c79"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"platformFeeRecipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"flatFee\",\"type\":\"uint256\"}],\"name\":\"FlatPlatformFeeUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"platformFeeRecipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"platformFeeBps\",\"type\":\"uint256\"}],\"name\":\"PlatformFeeInfoUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"enum IPlatformFee.PlatformFeeType\",\"name\":\"feeType\",\"type\":\"uint8\"}],\"name\":\"PlatformFeeTypeUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"getFlatPlatformFeeInfo\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPlatformFeeInfo\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPlatformFeeType\",\"outputs\":[{\"internalType\":\"enum IPlatformFee.PlatformFeeType\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_platformFeeRecipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_flatFee\",\"type\":\"uint256\"}],\"name\":\"setFlatPlatformFeeInfo\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_platformFeeRecipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_platformFeeBps\",\"type\":\"uint256\"}],\"name\":\"setPlatformFeeInfo\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"enum IPlatformFee.PlatformFeeType\",\"name\":\"_feeType\",\"type\":\"uint8\"}],\"name\":\"setPlatformFeeType\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"FlatPlatformFeeUpdated(address,uint256)\":{\"details\":\"Emitted when the flat platform fee is updated.\"},\"PlatformFeeInfoUpdated(address,uint256)\":{\"details\":\"Emitted when fee on primary sales is updated.\"},\"PlatformFeeTypeUpdated(uint8)\":{\"details\":\"Emitted when the platform fee type is updated.\"}},\"kind\":\"dev\",\"methods\":{\"getFlatPlatformFeeInfo()\":{\"details\":\"Returns the platform fee bps and recipient.\"},\"getPlatformFeeInfo()\":{\"details\":\"Returns the platform fee recipient and bps.\"},\"getPlatformFeeType()\":{\"details\":\"Returns the platform fee bps and recipient.\"},\"setPlatformFeeInfo(address,uint256)\":{\"details\":\"Caller should be authorized to set platform fee info.                  See {_canSetPlatformFeeInfo}.                  Emits {PlatformFeeInfoUpdated Event}; See {_setupPlatformFeeInfo}.\",\"params\":{\"_platformFeeBps\":\"Updated platformFeeBps.\",\"_platformFeeRecipient\":\"Address to be set as new platformFeeRecipient.\"}}},\"stateVariables\":{\"flatPlatformFee\":{\"details\":\"The flat amount collected by the contract as fees on primary sales.\"},\"platformFeeBps\":{\"details\":\"The % of primary sales collected as platform fees.\"},\"platformFeeRecipient\":{\"details\":\"The address that receives all platform fees from all sales.\"},\"platformFeeType\":{\"details\":\"Fee type variants: percentage fee and flat fee\"}},\"title\":\"Platform Fee\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"setFlatPlatformFeeInfo(address,uint256)\":{\"notice\":\"Lets a module admin set a flat fee on primary sales.\"},\"setPlatformFeeInfo(address,uint256)\":{\"notice\":\"Updates the platform fee recipient and bps.\"},\"setPlatformFeeType(uint8)\":{\"notice\":\"Lets a module admin set platform fee type.\"}},\"notice\":\"Thirdweb's `PlatformFee` is a contract extension to be used with any base contract. It exposes functions for setting and reading           the recipient of platform fee and the platform fee basis points, and lets the inheriting contract perform conditional logic           that uses information about platform fees, if desired.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/legacy-contracts/extension/PlatformFee_V1.sol\":\"PlatformFee\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":20},\"remappings\":[\":@chainlink/=lib/chainlink/\",\":@ds-test/=lib/ds-test/src/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@std/=lib/forge-std/src/\",\":@thirdweb-dev/dynamic-contracts/=lib/dynamic-contracts/\",\":ERC721A-Upgradeable/=lib/ERC721A-Upgradeable/contracts/\",\":ERC721A/=lib/ERC721A/contracts/\",\":chainlink/=lib/chainlink/contracts/\",\":contracts/=contracts/\",\":ds-test/=lib/ds-test/src/\",\":dynamic-contracts/=lib/dynamic-contracts/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":erc721a-upgradeable/=lib/ERC721A-Upgradeable/\",\":erc721a/=lib/ERC721A/\",\":forge-std/=lib/forge-std/src/\",\":lib/sstore2/=lib/dynamic-contracts/lib/sstore2/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":sstore2/=lib/dynamic-contracts/lib/sstore2/contracts/\"]},\"sources\":{\"contracts/legacy-contracts/extension/PlatformFee_V1.sol\":{\"keccak256\":\"0x35dc734488d86b48d2b5022c90d73f62480234f8c7ca46d9d3bccc2f4d3c21fa\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://291e90fe032044a0f5ed25b1d3d612a43ceaa810c7182cde62386d80800222e2\",\"dweb:/ipfs/QmNVPt4rzKNk23ZhYc71o9TzG8SkMMSJPk7ioLW6N4PdyU\"]},\"contracts/legacy-contracts/extension/interface/IPlatformFee_V1.sol\":{\"keccak256\":\"0x8c23c2a223a3b94ccce125b418e5fabfb631695d927e336512bc8dca61bbc736\",\"license\":\"Apache-2.0\",\"urls\":[\"bzz-raw://86dd8c93e75cb3a44d64c873154ee3857b604d1b07a9e52c120870172c2e9a34\",\"dweb:/ipfs/QmWXxEi7ygoRjN8yWYfVGbfhuwVg8bkLoHNzr3xMNa1VRv\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"platformFeeRecipient","type":"address","indexed":false},{"internalType":"uint256","name":"flatFee","type":"uint256","indexed":false}],"type":"event","name":"FlatPlatformFeeUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"platformFeeRecipient","type":"address","indexed":true},{"internalType":"uint256","name":"platformFeeBps","type":"uint256","indexed":false}],"type":"event","name":"PlatformFeeInfoUpdated","anonymous":false},{"inputs":[{"internalType":"enum IPlatformFee.PlatformFeeType","name":"feeType","type":"uint8","indexed":false}],"type":"event","name":"PlatformFeeTypeUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"getFlatPlatformFeeInfo","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getPlatformFeeInfo","outputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint16","name":"","type":"uint16"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getPlatformFeeType","outputs":[{"internalType":"enum IPlatformFee.PlatformFeeType","name":"","type":"uint8"}]},{"inputs":[{"internalType":"address","name":"_platformFeeRecipient","type":"address"},{"internalType":"uint256","name":"_flatFee","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setFlatPlatformFeeInfo"},{"inputs":[{"internalType":"address","name":"_platformFeeRecipient","type":"address"},{"internalType":"uint256","name":"_platformFeeBps","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setPlatformFeeInfo"},{"inputs":[{"internalType":"enum IPlatformFee.PlatformFeeType","name":"_feeType","type":"uint8"}],"stateMutability":"nonpayable","type":"function","name":"setPlatformFeeType"}],"devdoc":{"kind":"dev","methods":{"getFlatPlatformFeeInfo()":{"details":"Returns the platform fee bps and recipient."},"getPlatformFeeInfo()":{"details":"Returns the platform fee recipient and bps."},"getPlatformFeeType()":{"details":"Returns the platform fee bps and recipient."},"setPlatformFeeInfo(address,uint256)":{"details":"Caller should be authorized to set platform fee info.                  See {_canSetPlatformFeeInfo}.                  Emits {PlatformFeeInfoUpdated Event}; See {_setupPlatformFeeInfo}.","params":{"_platformFeeBps":"Updated platformFeeBps.","_platformFeeRecipient":"Address to be set as new platformFeeRecipient."}}},"version":1},"userdoc":{"kind":"user","methods":{"setFlatPlatformFeeInfo(address,uint256)":{"notice":"Lets a module admin set a flat fee on primary sales."},"setPlatformFeeInfo(address,uint256)":{"notice":"Updates the platform fee recipient and bps."},"setPlatformFeeType(uint8)":{"notice":"Lets a module admin set platform fee type."}},"version":1}},"settings":{"remappings":["@chainlink/=lib/chainlink/","@ds-test/=lib/ds-test/src/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@std/=lib/forge-std/src/","@thirdweb-dev/dynamic-contracts/=lib/dynamic-contracts/","ERC721A-Upgradeable/=lib/ERC721A-Upgradeable/contracts/","ERC721A/=lib/ERC721A/contracts/","chainlink/=lib/chainlink/contracts/","contracts/=contracts/","ds-test/=lib/ds-test/src/","dynamic-contracts/=lib/dynamic-contracts/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","erc721a-upgradeable/=lib/ERC721A-Upgradeable/","erc721a/=lib/ERC721A/","forge-std/=lib/forge-std/src/","lib/sstore2/=lib/dynamic-contracts/lib/sstore2/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/","sstore2/=lib/dynamic-contracts/lib/sstore2/contracts/"],"optimizer":{"enabled":true,"runs":20},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/legacy-contracts/extension/PlatformFee_V1.sol":"PlatformFee"},"libraries":{}},"sources":{"contracts/legacy-contracts/extension/PlatformFee_V1.sol":{"keccak256":"0x35dc734488d86b48d2b5022c90d73f62480234f8c7ca46d9d3bccc2f4d3c21fa","urls":["bzz-raw://291e90fe032044a0f5ed25b1d3d612a43ceaa810c7182cde62386d80800222e2","dweb:/ipfs/QmNVPt4rzKNk23ZhYc71o9TzG8SkMMSJPk7ioLW6N4PdyU"],"license":"Apache-2.0"},"contracts/legacy-contracts/extension/interface/IPlatformFee_V1.sol":{"keccak256":"0x8c23c2a223a3b94ccce125b418e5fabfb631695d927e336512bc8dca61bbc736","urls":["bzz-raw://86dd8c93e75cb3a44d64c873154ee3857b604d1b07a9e52c120870172c2e9a34","dweb:/ipfs/QmWXxEi7ygoRjN8yWYfVGbfhuwVg8bkLoHNzr3xMNa1VRv"],"license":"Apache-2.0"}},"version":1},"ast":{"absolutePath":"contracts/legacy-contracts/extension/PlatformFee_V1.sol","id":57742,"exportedSymbols":{"IPlatformFee":[57990],"PlatformFee":[57741]},"nodeType":"SourceUnit","src":"39:3989:272","nodes":[{"id":57537,"nodeType":"PragmaDirective","src":"39:23:272","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":57538,"nodeType":"ImportDirective","src":"86:41:272","nodes":[],"absolutePath":"contracts/legacy-contracts/extension/interface/IPlatformFee_V1.sol","file":"./interface/IPlatformFee_V1.sol","nameLocation":"-1:-1:-1","scope":57742,"sourceUnit":57991,"symbolAliases":[],"unitAlias":""},{"id":57741,"nodeType":"ContractDefinition","src":"511:3516:272","nodes":[{"id":57544,"nodeType":"VariableDeclaration","src":"636:36:272","nodes":[],"constant":false,"documentation":{"id":57542,"nodeType":"StructuredDocumentation","src":"563:68:272","text":"@dev The address that receives all platform fees from all sales."},"mutability":"mutable","name":"platformFeeRecipient","nameLocation":"652:20:272","scope":57741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":57543,"name":"address","nodeType":"ElementaryTypeName","src":"636:7:272","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"private"},{"id":57547,"nodeType":"VariableDeclaration","src":"743:29:272","nodes":[],"constant":false,"documentation":{"id":57545,"nodeType":"StructuredDocumentation","src":"679:59:272","text":"@dev The % of primary sales collected as platform fees."},"mutability":"mutable","name":"platformFeeBps","nameLocation":"758:14:272","scope":57741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":57546,"name":"uint16","nodeType":"ElementaryTypeName","src":"743:6:272","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"private"},{"id":57551,"nodeType":"VariableDeclaration","src":"839:39:272","nodes":[],"constant":false,"documentation":{"id":57548,"nodeType":"StructuredDocumentation","src":"779:55:272","text":"@dev Fee type variants: percentage fee and flat fee"},"mutability":"mutable","name":"platformFeeType","nameLocation":"863:15:272","scope":57741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"},"typeName":{"id":57550,"nodeType":"UserDefinedTypeName","pathNode":{"id":57549,"name":"PlatformFeeType","nameLocations":["839:15:272"],"nodeType":"IdentifierPath","referencedDeclaration":57953,"src":"839:15:272"},"referencedDeclaration":57953,"src":"839:15:272","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}},"visibility":"private"},{"id":57554,"nodeType":"VariableDeclaration","src":"966:31:272","nodes":[],"constant":false,"documentation":{"id":57552,"nodeType":"StructuredDocumentation","src":"885:76:272","text":"@dev The flat amount collected by the contract as fees on primary sales."},"mutability":"mutable","name":"flatPlatformFee","nameLocation":"982:15:272","scope":57741,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":57553,"name":"uint256","nodeType":"ElementaryTypeName","src":"966:7:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"private"},{"id":57571,"nodeType":"FunctionDefinition","src":"1061:147:272","nodes":[],"body":{"id":57570,"nodeType":"Block","src":"1138:70:272","nodes":[],"statements":[{"expression":{"components":[{"id":57563,"name":"platformFeeRecipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57544,"src":"1156:20:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":57566,"name":"platformFeeBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57547,"src":"1185:14:272","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":57565,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1178:6:272","typeDescriptions":{"typeIdentifier":"t_type$_t_uint16_$","typeString":"type(uint16)"},"typeName":{"id":57564,"name":"uint16","nodeType":"ElementaryTypeName","src":"1178:6:272","typeDescriptions":{}}},"id":57567,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1178:22:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"id":57568,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1155:46:272","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_uint16_$","typeString":"tuple(address,uint16)"}},"functionReturnParameters":57562,"id":57569,"nodeType":"Return","src":"1148:53:272"}]},"baseFunctions":[57961],"documentation":{"id":57555,"nodeType":"StructuredDocumentation","src":"1004:52:272","text":"@dev Returns the platform fee recipient and bps."},"functionSelector":"d45573f6","implemented":true,"kind":"function","modifiers":[],"name":"getPlatformFeeInfo","nameLocation":"1070:18:272","overrides":{"id":57557,"nodeType":"OverrideSpecifier","overrides":[],"src":"1103:8:272"},"parameters":{"id":57556,"nodeType":"ParameterList","parameters":[],"src":"1088:2:272"},"returnParameters":{"id":57562,"nodeType":"ParameterList","parameters":[{"constant":false,"id":57559,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":57571,"src":"1121:7:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":57558,"name":"address","nodeType":"ElementaryTypeName","src":"1121:7:272","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":57561,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":57571,"src":"1130:6:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":57560,"name":"uint16","nodeType":"ElementaryTypeName","src":"1130:6:272","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"1120:17:272"},"scope":57741,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":57584,"nodeType":"FunctionDefinition","src":"1271:136:272","nodes":[],"body":{"id":57583,"nodeType":"Block","src":"1344:63:272","nodes":[],"statements":[{"expression":{"components":[{"id":57579,"name":"platformFeeRecipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57544,"src":"1362:20:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":57580,"name":"flatPlatformFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57554,"src":"1384:15:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":57581,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1361:39:272","typeDescriptions":{"typeIdentifier":"t_tuple$_t_address_$_t_uint256_$","typeString":"tuple(address,uint256)"}},"functionReturnParameters":57578,"id":57582,"nodeType":"Return","src":"1354:46:272"}]},"documentation":{"id":57572,"nodeType":"StructuredDocumentation","src":"1214:52:272","text":"@dev Returns the platform fee bps and recipient."},"functionSelector":"e57553da","implemented":true,"kind":"function","modifiers":[],"name":"getFlatPlatformFeeInfo","nameLocation":"1280:22:272","parameters":{"id":57573,"nodeType":"ParameterList","parameters":[],"src":"1302:2:272"},"returnParameters":{"id":57578,"nodeType":"ParameterList","parameters":[{"constant":false,"id":57575,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":57584,"src":"1326:7:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":57574,"name":"address","nodeType":"ElementaryTypeName","src":"1326:7:272","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":57577,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":57584,"src":"1335:7:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":57576,"name":"uint256","nodeType":"ElementaryTypeName","src":"1335:7:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1325:18:272"},"scope":57741,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":57594,"nodeType":"FunctionDefinition","src":"1470:107:272","nodes":[],"body":{"id":57593,"nodeType":"Block","src":"1538:39:272","nodes":[],"statements":[{"expression":{"id":57591,"name":"platformFeeType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57551,"src":"1555:15:272","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}},"functionReturnParameters":57590,"id":57592,"nodeType":"Return","src":"1548:22:272"}]},"documentation":{"id":57585,"nodeType":"StructuredDocumentation","src":"1413:52:272","text":"@dev Returns the platform fee bps and recipient."},"functionSelector":"f28083c3","implemented":true,"kind":"function","modifiers":[],"name":"getPlatformFeeType","nameLocation":"1479:18:272","parameters":{"id":57586,"nodeType":"ParameterList","parameters":[],"src":"1497:2:272"},"returnParameters":{"id":57590,"nodeType":"ParameterList","parameters":[{"constant":false,"id":57589,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":57594,"src":"1521:15:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"},"typeName":{"id":57588,"nodeType":"UserDefinedTypeName","pathNode":{"id":57587,"name":"PlatformFeeType","nameLocations":["1521:15:272"],"nodeType":"IdentifierPath","referencedDeclaration":57953,"src":"1521:15:272"},"referencedDeclaration":57953,"src":"1521:15:272","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}},"visibility":"internal"}],"src":"1520:17:272"},"scope":57741,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":57618,"nodeType":"FunctionDefinition","src":"2046:269:272","nodes":[],"body":{"id":57617,"nodeType":"Block","src":"2148:167:272","nodes":[],"statements":[{"condition":{"id":57605,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"2162:25:272","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":57603,"name":"_canSetPlatformFeeInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57740,"src":"2163:22:272","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_bool_$","typeString":"function () view returns (bool)"}},"id":57604,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2163:24:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":57611,"nodeType":"IfStatement","src":"2158:80:272","trueBody":{"id":57610,"nodeType":"Block","src":"2189:49:272","statements":[{"expression":{"arguments":[{"hexValue":"4e6f7420617574686f72697a6564","id":57607,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2210:16:272","typeDescriptions":{"typeIdentifier":"t_stringliteral_fac3bac318c0d00994f57b0f2f4c643c313072b71db2302bf4b900309cc50b36","typeString":"literal_string \"Not authorized\""},"value":"Not authorized"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_fac3bac318c0d00994f57b0f2f4c643c313072b71db2302bf4b900309cc50b36","typeString":"literal_string \"Not authorized\""}],"id":57606,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"2203:6:272","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":57608,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2203:24:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":57609,"nodeType":"ExpressionStatement","src":"2203:24:272"}]}},{"expression":{"arguments":[{"id":57613,"name":"_platformFeeRecipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57597,"src":"2269:21:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":57614,"name":"_platformFeeBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57599,"src":"2292:15:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":57612,"name":"_setupPlatformFeeInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57652,"src":"2247:21:272","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":57615,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2247:61:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":57616,"nodeType":"ExpressionStatement","src":"2247:61:272"}]},"baseFunctions":[57969],"documentation":{"id":57595,"nodeType":"StructuredDocumentation","src":"1583:458:272","text":"  @notice         Updates the platform fee recipient and bps.\n  @dev            Caller should be authorized to set platform fee info.\n                  See {_canSetPlatformFeeInfo}.\n                  Emits {PlatformFeeInfoUpdated Event}; See {_setupPlatformFeeInfo}.\n  @param _platformFeeRecipient   Address to be set as new platformFeeRecipient.\n  @param _platformFeeBps         Updated platformFeeBps."},"functionSelector":"1e7ac488","implemented":true,"kind":"function","modifiers":[],"name":"setPlatformFeeInfo","nameLocation":"2055:18:272","overrides":{"id":57601,"nodeType":"OverrideSpecifier","overrides":[],"src":"2139:8:272"},"parameters":{"id":57600,"nodeType":"ParameterList","parameters":[{"constant":false,"id":57597,"mutability":"mutable","name":"_platformFeeRecipient","nameLocation":"2082:21:272","nodeType":"VariableDeclaration","scope":57618,"src":"2074:29:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":57596,"name":"address","nodeType":"ElementaryTypeName","src":"2074:7:272","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":57599,"mutability":"mutable","name":"_platformFeeBps","nameLocation":"2113:15:272","nodeType":"VariableDeclaration","scope":57618,"src":"2105:23:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":57598,"name":"uint256","nodeType":"ElementaryTypeName","src":"2105:7:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2073:56:272"},"returnParameters":{"id":57602,"nodeType":"ParameterList","parameters":[],"src":"2148:0:272"},"scope":57741,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":57652,"nodeType":"FunctionDefinition","src":"2374:375:272","nodes":[],"body":{"id":57651,"nodeType":"Block","src":"2470:279:272","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":57628,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":57626,"name":"_platformFeeBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57623,"src":"2484:15:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"31305f303030","id":57627,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2502:6:272","typeDescriptions":{"typeIdentifier":"t_rational_10000_by_1","typeString":"int_const 10000"},"value":"10_000"},"src":"2484:24:272","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":57634,"nodeType":"IfStatement","src":"2480:80:272","trueBody":{"id":57633,"nodeType":"Block","src":"2510:50:272","statements":[{"expression":{"arguments":[{"hexValue":"45786365656473206d617820627073","id":57630,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2531:17:272","typeDescriptions":{"typeIdentifier":"t_stringliteral_befaddfb8268cd8fc4618841dd3967983e1f84edb4c0dd41fca26276594c6c0f","typeString":"literal_string \"Exceeds max bps\""},"value":"Exceeds max bps"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_befaddfb8268cd8fc4618841dd3967983e1f84edb4c0dd41fca26276594c6c0f","typeString":"literal_string \"Exceeds max bps\""}],"id":57629,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"2524:6:272","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":57631,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2524:25:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":57632,"nodeType":"ExpressionStatement","src":"2524:25:272"}]}},{"expression":{"id":57640,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":57635,"name":"platformFeeBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57547,"src":"2570:14:272","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":57638,"name":"_platformFeeBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57623,"src":"2594:15:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":57637,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2587:6:272","typeDescriptions":{"typeIdentifier":"t_type$_t_uint16_$","typeString":"type(uint16)"},"typeName":{"id":57636,"name":"uint16","nodeType":"ElementaryTypeName","src":"2587:6:272","typeDescriptions":{}}},"id":57639,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2587:23:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"2570:40:272","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":57641,"nodeType":"ExpressionStatement","src":"2570:40:272"},{"expression":{"id":57644,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":57642,"name":"platformFeeRecipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57544,"src":"2620:20:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":57643,"name":"_platformFeeRecipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57621,"src":"2643:21:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2620:44:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":57645,"nodeType":"ExpressionStatement","src":"2620:44:272"},{"eventCall":{"arguments":[{"id":57647,"name":"_platformFeeRecipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57621,"src":"2703:21:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":57648,"name":"_platformFeeBps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57623,"src":"2726:15:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":57646,"name":"PlatformFeeInfoUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57976,"src":"2680:22:272","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":57649,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2680:62:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":57650,"nodeType":"EmitStatement","src":"2675:67:272"}]},"documentation":{"id":57619,"nodeType":"StructuredDocumentation","src":"2321:48:272","text":"@dev Sets the platform fee recipient and bps"},"implemented":true,"kind":"function","modifiers":[],"name":"_setupPlatformFeeInfo","nameLocation":"2383:21:272","parameters":{"id":57624,"nodeType":"ParameterList","parameters":[{"constant":false,"id":57621,"mutability":"mutable","name":"_platformFeeRecipient","nameLocation":"2413:21:272","nodeType":"VariableDeclaration","scope":57652,"src":"2405:29:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":57620,"name":"address","nodeType":"ElementaryTypeName","src":"2405:7:272","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":57623,"mutability":"mutable","name":"_platformFeeBps","nameLocation":"2444:15:272","nodeType":"VariableDeclaration","scope":57652,"src":"2436:23:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":57622,"name":"uint256","nodeType":"ElementaryTypeName","src":"2436:7:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2404:56:272"},"returnParameters":{"id":57625,"nodeType":"ParameterList","parameters":[],"src":"2470:0:272"},"scope":57741,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":57675,"nodeType":"FunctionDefinition","src":"2824:255:272","nodes":[],"body":{"id":57674,"nodeType":"Block","src":"2914:165:272","nodes":[],"statements":[{"condition":{"id":57662,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"2928:25:272","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":57660,"name":"_canSetPlatformFeeInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57740,"src":"2929:22:272","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_bool_$","typeString":"function () view returns (bool)"}},"id":57661,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2929:24:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":57668,"nodeType":"IfStatement","src":"2924:80:272","trueBody":{"id":57667,"nodeType":"Block","src":"2955:49:272","statements":[{"expression":{"arguments":[{"hexValue":"4e6f7420617574686f72697a6564","id":57664,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2976:16:272","typeDescriptions":{"typeIdentifier":"t_stringliteral_fac3bac318c0d00994f57b0f2f4c643c313072b71db2302bf4b900309cc50b36","typeString":"literal_string \"Not authorized\""},"value":"Not authorized"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_fac3bac318c0d00994f57b0f2f4c643c313072b71db2302bf4b900309cc50b36","typeString":"literal_string \"Not authorized\""}],"id":57663,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"2969:6:272","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":57665,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2969:24:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":57666,"nodeType":"ExpressionStatement","src":"2969:24:272"}]}},{"expression":{"arguments":[{"id":57670,"name":"_platformFeeRecipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57655,"src":"3040:21:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":57671,"name":"_flatFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57657,"src":"3063:8:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":57669,"name":"_setupFlatPlatformFeeInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57697,"src":"3014:25:272","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":57672,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3014:58:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":57673,"nodeType":"ExpressionStatement","src":"3014:58:272"}]},"documentation":{"id":57653,"nodeType":"StructuredDocumentation","src":"2755:64:272","text":"@notice Lets a module admin set a flat fee on primary sales."},"functionSelector":"7e54523c","implemented":true,"kind":"function","modifiers":[],"name":"setFlatPlatformFeeInfo","nameLocation":"2833:22:272","parameters":{"id":57658,"nodeType":"ParameterList","parameters":[{"constant":false,"id":57655,"mutability":"mutable","name":"_platformFeeRecipient","nameLocation":"2864:21:272","nodeType":"VariableDeclaration","scope":57675,"src":"2856:29:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":57654,"name":"address","nodeType":"ElementaryTypeName","src":"2856:7:272","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":57657,"mutability":"mutable","name":"_flatFee","nameLocation":"2895:8:272","nodeType":"VariableDeclaration","scope":57675,"src":"2887:16:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":57656,"name":"uint256","nodeType":"ElementaryTypeName","src":"2887:7:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2855:49:272"},"returnParameters":{"id":57659,"nodeType":"ParameterList","parameters":[],"src":"2914:0:272"},"scope":57741,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":57697,"nodeType":"FunctionDefinition","src":"3132:261:272","nodes":[],"body":{"id":57696,"nodeType":"Block","src":"3225:168:272","nodes":[],"statements":[{"expression":{"id":57685,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":57683,"name":"flatPlatformFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57554,"src":"3235:15:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":57684,"name":"_flatFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57680,"src":"3253:8:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3235:26:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":57686,"nodeType":"ExpressionStatement","src":"3235:26:272"},{"expression":{"id":57689,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":57687,"name":"platformFeeRecipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57544,"src":"3271:20:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":57688,"name":"_platformFeeRecipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57678,"src":"3294:21:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3271:44:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":57690,"nodeType":"ExpressionStatement","src":"3271:44:272"},{"eventCall":{"arguments":[{"id":57692,"name":"_platformFeeRecipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57678,"src":"3354:21:272","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":57693,"name":"_flatFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57680,"src":"3377:8:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":57691,"name":"FlatPlatformFeeUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57983,"src":"3331:22:272","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":57694,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3331:55:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":57695,"nodeType":"EmitStatement","src":"3326:60:272"}]},"documentation":{"id":57676,"nodeType":"StructuredDocumentation","src":"3085:42:272","text":"@dev Sets a flat fee on primary sales."},"implemented":true,"kind":"function","modifiers":[],"name":"_setupFlatPlatformFeeInfo","nameLocation":"3141:25:272","parameters":{"id":57681,"nodeType":"ParameterList","parameters":[{"constant":false,"id":57678,"mutability":"mutable","name":"_platformFeeRecipient","nameLocation":"3175:21:272","nodeType":"VariableDeclaration","scope":57697,"src":"3167:29:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":57677,"name":"address","nodeType":"ElementaryTypeName","src":"3167:7:272","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":57680,"mutability":"mutable","name":"_flatFee","nameLocation":"3206:8:272","nodeType":"VariableDeclaration","scope":57697,"src":"3198:16:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":57679,"name":"uint256","nodeType":"ElementaryTypeName","src":"3198:7:272","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3166:49:272"},"returnParameters":{"id":57682,"nodeType":"ParameterList","parameters":[],"src":"3225:0:272"},"scope":57741,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":57718,"nodeType":"FunctionDefinition","src":"3458:200:272","nodes":[],"body":{"id":57717,"nodeType":"Block","src":"3521:137:272","nodes":[],"statements":[{"condition":{"id":57706,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"3535:25:272","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":57704,"name":"_canSetPlatformFeeInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57740,"src":"3536:22:272","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_bool_$","typeString":"function () view returns (bool)"}},"id":57705,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3536:24:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":57712,"nodeType":"IfStatement","src":"3531:80:272","trueBody":{"id":57711,"nodeType":"Block","src":"3562:49:272","statements":[{"expression":{"arguments":[{"hexValue":"4e6f7420617574686f72697a6564","id":57708,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3583:16:272","typeDescriptions":{"typeIdentifier":"t_stringliteral_fac3bac318c0d00994f57b0f2f4c643c313072b71db2302bf4b900309cc50b36","typeString":"literal_string \"Not authorized\""},"value":"Not authorized"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_fac3bac318c0d00994f57b0f2f4c643c313072b71db2302bf4b900309cc50b36","typeString":"literal_string \"Not authorized\""}],"id":57707,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"3576:6:272","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":57709,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3576:24:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":57710,"nodeType":"ExpressionStatement","src":"3576:24:272"}]}},{"expression":{"arguments":[{"id":57714,"name":"_feeType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57701,"src":"3642:8:272","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}],"id":57713,"name":"_setupPlatformFeeType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57734,"src":"3620:21:272","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_enum$_PlatformFeeType_$57953_$returns$__$","typeString":"function (enum IPlatformFee.PlatformFeeType)"}},"id":57715,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3620:31:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":57716,"nodeType":"ExpressionStatement","src":"3620:31:272"}]},"documentation":{"id":57698,"nodeType":"StructuredDocumentation","src":"3399:54:272","text":"@notice Lets a module admin set platform fee type."},"functionSelector":"b6f10c79","implemented":true,"kind":"function","modifiers":[],"name":"setPlatformFeeType","nameLocation":"3467:18:272","parameters":{"id":57702,"nodeType":"ParameterList","parameters":[{"constant":false,"id":57701,"mutability":"mutable","name":"_feeType","nameLocation":"3502:8:272","nodeType":"VariableDeclaration","scope":57718,"src":"3486:24:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"},"typeName":{"id":57700,"nodeType":"UserDefinedTypeName","pathNode":{"id":57699,"name":"PlatformFeeType","nameLocations":["3486:15:272"],"nodeType":"IdentifierPath","referencedDeclaration":57953,"src":"3486:15:272"},"referencedDeclaration":57953,"src":"3486:15:272","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}},"visibility":"internal"}],"src":"3485:26:272"},"returnParameters":{"id":57703,"nodeType":"ParameterList","parameters":[],"src":"3521:0:272"},"scope":57741,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":57734,"nodeType":"FunctionDefinition","src":"3701:157:272","nodes":[],"body":{"id":57733,"nodeType":"Block","src":"3767:91:272","nodes":[],"statements":[{"expression":{"id":57727,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":57725,"name":"platformFeeType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57551,"src":"3777:15:272","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":57726,"name":"_feeType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57722,"src":"3795:8:272","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}},"src":"3777:26:272","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}},"id":57728,"nodeType":"ExpressionStatement","src":"3777:26:272"},{"eventCall":{"arguments":[{"id":57730,"name":"_feeType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57722,"src":"3842:8:272","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}],"id":57729,"name":"PlatformFeeTypeUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":57989,"src":"3819:22:272","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_enum$_PlatformFeeType_$57953_$returns$__$","typeString":"function (enum IPlatformFee.PlatformFeeType)"}},"id":57731,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3819:32:272","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":57732,"nodeType":"EmitStatement","src":"3814:37:272"}]},"documentation":{"id":57719,"nodeType":"StructuredDocumentation","src":"3664:32:272","text":"@dev Sets platform fee type."},"implemented":true,"kind":"function","modifiers":[],"name":"_setupPlatformFeeType","nameLocation":"3710:21:272","parameters":{"id":57723,"nodeType":"ParameterList","parameters":[{"constant":false,"id":57722,"mutability":"mutable","name":"_feeType","nameLocation":"3748:8:272","nodeType":"VariableDeclaration","scope":57734,"src":"3732:24:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"},"typeName":{"id":57721,"nodeType":"UserDefinedTypeName","pathNode":{"id":57720,"name":"PlatformFeeType","nameLocations":["3732:15:272"],"nodeType":"IdentifierPath","referencedDeclaration":57953,"src":"3732:15:272"},"referencedDeclaration":57953,"src":"3732:15:272","typeDescriptions":{"typeIdentifier":"t_enum$_PlatformFeeType_$57953","typeString":"enum IPlatformFee.PlatformFeeType"}},"visibility":"internal"}],"src":"3731:26:272"},"returnParameters":{"id":57724,"nodeType":"ParameterList","parameters":[],"src":"3767:0:272"},"scope":57741,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":57740,"nodeType":"FunctionDefinition","src":"3954:71:272","nodes":[],"documentation":{"id":57735,"nodeType":"StructuredDocumentation","src":"3864:85:272","text":"@dev Returns whether platform fee info can be set in the given execution context."},"implemented":false,"kind":"function","modifiers":[],"name":"_canSetPlatformFeeInfo","nameLocation":"3963:22:272","parameters":{"id":57736,"nodeType":"ParameterList","parameters":[],"src":"3985:2:272"},"returnParameters":{"id":57739,"nodeType":"ParameterList","parameters":[{"constant":false,"id":57738,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":57740,"src":"4019:4:272","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":57737,"name":"bool","nodeType":"ElementaryTypeName","src":"4019:4:272","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"4018:6:272"},"scope":57741,"stateMutability":"view","virtual":true,"visibility":"internal"}],"abstract":true,"baseContracts":[{"baseName":{"id":57540,"name":"IPlatformFee","nameLocations":["544:12:272"],"nodeType":"IdentifierPath","referencedDeclaration":57990,"src":"544:12:272"},"id":57541,"nodeType":"InheritanceSpecifier","src":"544:12:272"}],"canonicalName":"PlatformFee","contractDependencies":[],"contractKind":"contract","documentation":{"id":57539,"nodeType":"StructuredDocumentation","src":"129:380:272","text":"  @title   Platform Fee\n  @notice  Thirdweb's `PlatformFee` is a contract extension to be used with any base contract. It exposes functions for setting and reading\n           the recipient of platform fee and the platform fee basis points, and lets the inheriting contract perform conditional logic\n           that uses information about platform fees, if desired."},"fullyImplemented":false,"linearizedBaseContracts":[57741,57990],"name":"PlatformFee","nameLocation":"529:11:272","scope":57742,"usedErrors":[],"usedEvents":[57976,57983,57989]}],"license":"Apache-2.0"},"id":272}